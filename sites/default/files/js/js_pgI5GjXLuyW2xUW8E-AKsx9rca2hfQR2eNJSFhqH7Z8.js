/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(function(Drupal,PhotoSwipeLightbox){Drupal.behaviors.photoswipe={attach(context,settings){once('photoswipe','.photoswipe-gallery',context).forEach((gallery)=>{const lightbox=new PhotoSwipeLightbox({gallerySelector:'.photoswipe-gallery',childSelector:'a.photoswipe',pswpModule:PhotoSwipe,...(settings?.photoswipe?.options||{})});const event=new CustomEvent('photoswipeLightboxBuild',{detail:{lightbox}});gallery.dispatchEvent(event);lightbox.init();});}};})(Drupal,PhotoSwipeLightbox);;
(function($,Drupal){Drupal.theme.progressBar=function(id){const escapedId=Drupal.checkPlain(id);return (`<div id="${escapedId}" class="progress" aria-live="polite">`+'<div class="progress__label">&nbsp;</div>'+'<div class="progress__track"><div class="progress__bar"></div></div>'+'<div class="progress__percentage"></div>'+'<div class="progress__description">&nbsp;</div>'+'</div>');};Drupal.ProgressBar=function(id,updateCallback,method,errorCallback){this.id=id;this.method=method||'GET';this.updateCallback=updateCallback;this.errorCallback=errorCallback;this.element=$(Drupal.theme('progressBar',id));};$.extend(Drupal.ProgressBar.prototype,{setProgress(percentage,message,label){if(percentage>=0&&percentage<=100){$(this.element).find('div.progress__bar').each(function(){this.style.width=`${percentage}%`;});$(this.element).find('div.progress__percentage').html(`${percentage}%`);}$('div.progress__description',this.element).html(message);$('div.progress__label',this.element).html(label);if(this.updateCallback)this.updateCallback(percentage,message,this);},startMonitoring(uri,delay){this.delay=delay;this.uri=uri;this.sendPing();},stopMonitoring(){clearTimeout(this.timer);this.uri=null;},sendPing(){if(this.timer)clearTimeout(this.timer);if(this.uri){const pb=this;let uri=this.uri;if(!uri.includes('?'))uri+='?';else uri+='&';uri+='_format=json';$.ajax({type:this.method,url:uri,data:'',dataType:'json',success(progress){if(progress.status===0){pb.displayError(progress.data);return;}pb.setProgress(progress.percentage,progress.message,progress.label);pb.timer=setTimeout(()=>{pb.sendPing();},pb.delay);},error(xmlhttp){const e=new Drupal.AjaxError(xmlhttp,pb.uri);pb.displayError(`<pre>${e.message}</pre>`);}});}},displayError(string){const error=$('<div class="messages messages--error"></div>').html(string);$(this.element).before(error).hide();if(this.errorCallback)this.errorCallback(this);}});})(jQuery,Drupal);;
/* @license MIT https://raw.githubusercontent.com/muicss/loadjs/4.3.0/LICENSE.txt */
loadjs=function(){var h=function(){},o={},c={},f={};function u(e,n){if(e){var t=f[e];if(c[e]=n,t)for(;t.length;)t[0](e,n),t.splice(0,1)}}function l(e,n){e.call&&(e={success:e}),n.length?(e.error||h)(n):(e.success||h)(e)}function p(t,r,i,s){var o,e,u,n=document,c=i.async,f=(i.numRetries||0)+1,l=i.before||h,a=t.replace(/[\?|#].*$/,""),d=t.replace(/^(css|img|module|nomodule)!/,"");if(s=s||0,/(^css!|\.css$)/.test(a))(u=n.createElement("link")).rel="stylesheet",u.href=d,(o="hideFocus"in u)&&u.relList&&(o=0,u.rel="preload",u.as="style");else if(/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(a))(u=n.createElement("img")).src=d;else if((u=n.createElement("script")).src=d,u.async=void 0===c||c,e="noModule"in u,/^module!/.test(a)){if(!e)return r(t,"l");u.type="module"}else if(/^nomodule!/.test(a)&&e)return r(t,"l");!(u.onload=u.onerror=u.onbeforeload=function(e){var n=e.type[0];if(o)try{u.sheet.cssText.length||(n="e")}catch(e){18!=e.code&&(n="e")}if("e"==n){if((s+=1)<f)return p(t,r,i,s)}else if("preload"==u.rel&&"style"==u.as)return u.rel="stylesheet";r(t,n,e.defaultPrevented)})!==l(t,u)&&n.head.appendChild(u)}function t(e,n,t){var r,i;if(n&&n.trim&&(r=n),i=(r?t:n)||{},r){if(r in o)throw"LoadJS";o[r]=!0}function s(n,t){!function(e,r,n){var t,i,s=(e=e.push?e:[e]).length,o=s,u=[];for(t=function(e,n,t){if("e"==n&&u.push(e),"b"==n){if(!t)return;u.push(e)}--s||r(u)},i=0;i<o;i++)p(e[i],t,n)}(e,function(e){l(i,e),n&&l({success:n,error:t},e),u(r,e)},i)}if(i.returnPromise)return new Promise(s);s()}return t.ready=function(e,n){return function(e,t){e=e.push?e:[e];var n,r,i,s=[],o=e.length,u=o;for(n=function(e,n){n.length&&s.push(e),--u||t(s)};o--;)r=e[o],(i=c[r])?n(r,i):(f[r]=f[r]||[]).push(n)}(e,function(e){l(n,e)}),t},t.done=function(e){u(e,[])},t.reset=function(){o={},c={},f={}},t.isDefined=function(e){return e in o},t}();;
/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
Drupal.debounce=function(func,wait,immediate){let timeout;let result;return function(...args){const context=this;const later=function(){timeout=null;if(!immediate)result=func.apply(context,args);};const callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)result=func.apply(context,args);return result;};};;
(function(Drupal,debounce){let liveElement;const announcements=[];Drupal.behaviors.drupalAnnounce={attach(context){if(!liveElement){liveElement=document.createElement('div');liveElement.id='drupal-live-announce';liveElement.className='visually-hidden';liveElement.setAttribute('aria-live','polite');liveElement.setAttribute('aria-busy','false');document.body.appendChild(liveElement);}}};function announce(){const text=[];let priority='polite';let announcement;const il=announcements.length;for(let i=0;i<il;i++){announcement=announcements.pop();text.unshift(announcement.text);if(announcement.priority==='assertive')priority='assertive';}if(text.length){liveElement.innerHTML='';liveElement.setAttribute('aria-busy','true');liveElement.setAttribute('aria-live',priority);liveElement.innerHTML=text.join('\n');liveElement.setAttribute('aria-busy','false');}}Drupal.announce=function(text,priority){announcements.push({text,priority});return debounce(announce,200)();};})(Drupal,Drupal.debounce);;
((Drupal)=>{Drupal.Message=class{constructor(messageWrapper=null){if(!messageWrapper)this.messageWrapper=Drupal.Message.defaultWrapper();else this.messageWrapper=messageWrapper;}static defaultWrapper(){let wrapper=document.querySelector('[data-drupal-messages]')||document.querySelector('[data-drupal-messages-fallback]');if(!wrapper){wrapper=document.createElement('div');document.body.appendChild(wrapper);}if(wrapper.hasAttribute('data-drupal-messages-fallback')){wrapper.removeAttribute('data-drupal-messages-fallback');wrapper.classList.remove('hidden');}wrapper.setAttribute('data-drupal-messages','');return wrapper.innerHTML===''?Drupal.Message.messageInternalWrapper(wrapper):wrapper.firstElementChild;}static getMessageTypeLabels(){return {status:Drupal.t('Status message'),error:Drupal.t('Error message'),warning:Drupal.t('Warning message')};}add(message,options={}){if(!options.hasOwnProperty('type'))options.type='status';if(typeof message!=='string')throw new Error('Message must be a string.');Drupal.Message.announce(message,options);options.id=options.id?String(options.id):`${options.type}-${Math.random().toFixed(15).replace('0.','')}`;if(!Drupal.Message.getMessageTypeLabels().hasOwnProperty(options.type)){const {type}=options;throw new Error(`The message type, ${type}, is not present in Drupal.Message.getMessageTypeLabels().`);}this.messageWrapper.appendChild(Drupal.theme('message',{text:message},options));return options.id;}select(id){return this.messageWrapper.querySelector(`[data-drupal-message-id^="${id}"]`);}remove(id){return this.messageWrapper.removeChild(this.select(id));}clear(){this.messageWrapper.querySelectorAll('[data-drupal-message-id]').forEach((message)=>{this.messageWrapper.removeChild(message);});}static announce(message,options){if(!options.priority&&(options.type==='warning'||options.type==='error'))options.priority='assertive';if(options.announce!=='')Drupal.announce(options.announce||message,options.priority);}static messageInternalWrapper(messageWrapper){const innerWrapper=document.createElement('div');innerWrapper.setAttribute('class','messages__wrapper');messageWrapper.insertAdjacentElement('afterbegin',innerWrapper);return innerWrapper;}};Drupal.theme.message=({text},{type,id})=>{const messagesTypes=Drupal.Message.getMessageTypeLabels();const messageWrapper=document.createElement('div');messageWrapper.setAttribute('class',`messages messages--${type}`);messageWrapper.setAttribute('role',type==='error'||type==='warning'?'alert':'status');messageWrapper.setAttribute('data-drupal-message-id',id);messageWrapper.setAttribute('data-drupal-message-type',type);messageWrapper.setAttribute('aria-label',messagesTypes[type]);messageWrapper.innerHTML=`${text}`;return messageWrapper;};})(Drupal);;
(function($,window,Drupal,drupalSettings,loadjs,{isFocusable,tabbable}){Drupal.behaviors.AJAX={attach(context,settings){function loadAjaxBehavior(base){const elementSettings=settings.ajax[base];if(typeof elementSettings.selector==='undefined')elementSettings.selector=`#${base}`;once('drupal-ajax',$(elementSettings.selector)).forEach((el)=>{elementSettings.element=el;elementSettings.base=base;Drupal.ajax(elementSettings);});}Object.keys(settings.ajax||{}).forEach(loadAjaxBehavior);Drupal.ajax.bindAjaxLinks(document.body);once('ajax','.use-ajax-submit').forEach((el)=>{const elementSettings={};elementSettings.url=$(el.form).attr('action');elementSettings.setClick=true;elementSettings.event='click';elementSettings.progress={type:'throbber'};elementSettings.base=el.id;elementSettings.element=el;Drupal.ajax(elementSettings);});},detach(context,settings,trigger){if(trigger==='unload')Drupal.ajax.expired().forEach((instance)=>{Drupal.ajax.instances[instance.instanceIndex]=null;});}};Drupal.AjaxError=function(xmlhttp,uri,customMessage){let statusCode;let statusText;let responseText;if(xmlhttp.status)statusCode=`\n${Drupal.t('An AJAX HTTP error occurred.')}\n${Drupal.t('HTTP Result Code: !status',{'!status':xmlhttp.status})}`;else statusCode=`\n${Drupal.t('An AJAX HTTP request terminated abnormally.')}`;statusCode+=`\n${Drupal.t('Debugging information follows.')}`;const pathText=`\n${Drupal.t('Path: !uri',{'!uri':uri})}`;statusText='';try{statusText=`\n${Drupal.t('StatusText: !statusText',{'!statusText':xmlhttp.statusText.trim()})}`;}catch(e){}responseText='';try{responseText=`\n${Drupal.t('ResponseText: !responseText',{'!responseText':xmlhttp.responseText.trim()})}`;}catch(e){}responseText=responseText.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,'');responseText=responseText.replace(/[\n]+\s+/g,'\n');const readyStateText=xmlhttp.status===0?`\n${Drupal.t('ReadyState: !readyState',{'!readyState':xmlhttp.readyState})}`:'';customMessage=customMessage?`\n${Drupal.t('CustomMessage: !customMessage',{'!customMessage':customMessage})}`:'';this.message=statusCode+pathText+statusText+customMessage+responseText+readyStateText;this.name='AjaxError';if(!Drupal.AjaxError.messages)Drupal.AjaxError.messages=new Drupal.Message();Drupal.AjaxError.messages.add(Drupal.t("Oops, something went wrong. Check your browser's developer console for more details."),{type:'error'});};Drupal.AjaxError.prototype=new Error();Drupal.AjaxError.prototype.constructor=Drupal.AjaxError;Drupal.ajax=function(settings){if(arguments.length!==1)throw new Error('Drupal.ajax() function must be called with one configuration object only');const base=settings.base||false;const element=settings.element||false;delete settings.base;delete settings.element;if(!settings.progress&&!element)settings.progress=false;const ajax=new Drupal.Ajax(base,element,settings);ajax.instanceIndex=Drupal.ajax.instances.length;Drupal.ajax.instances.push(ajax);return ajax;};Drupal.ajax.instances=[];Drupal.ajax.expired=function(){return Drupal.ajax.instances.filter((instance)=>instance&&instance.element!==false&&!document.body.contains(instance.element));};Drupal.ajax.bindAjaxLinks=(element)=>{once('ajax','.use-ajax',element).forEach((ajaxLink)=>{const $linkElement=$(ajaxLink);const elementSettings={progress:{type:'throbber'},dialogType:$linkElement.data('dialog-type'),dialog:$linkElement.data('dialog-options'),dialogRenderer:$linkElement.data('dialog-renderer'),base:$linkElement.attr('id'),element:ajaxLink};const href=$linkElement.attr('href');if(href){elementSettings.url=href;elementSettings.event='click';}const httpMethod=$linkElement.data('ajax-http-method');if(httpMethod)elementSettings.httpMethod=httpMethod;Drupal.ajax(elementSettings);});};Drupal.Ajax=function(base,element,elementSettings){const defaults={httpMethod:'POST',event:element?'mousedown':null,keypress:true,selector:base?`#${base}`:null,effect:'none',speed:'none',method:'replaceWith',progress:{type:'throbber',message:Drupal.t('Processing...')},submit:{js:true}};$.extend(this,defaults,elementSettings);this.commands=new Drupal.AjaxCommands();this.instanceIndex=false;if(this.wrapper)this.wrapper=`#${this.wrapper}`;this.element=element;this.preCommandsFocusedElementSelector=null;this.elementSettings=elementSettings;if(this.element?.form)this.$form=$(this.element.form);if(!this.url){const $element=$(this.element);if(this.element.tagName==='A')this.url=$element.attr('href');else{if(this.element&&element.form)this.url=this.$form.attr('action');}}const originalUrl=this.url;this.url=this.url.replace(/\/nojs(\/|$|\?|#)/,'/ajax$1');if(drupalSettings.ajaxTrustedUrl[originalUrl])drupalSettings.ajaxTrustedUrl[this.url]=true;const ajax=this;ajax.options={url:ajax.url,data:ajax.submit,isInProgress(){return ajax.ajaxing;},beforeSerialize(elementSettings,options){return ajax.beforeSerialize(elementSettings,options);},beforeSubmit(formValues,elementSettings,options){ajax.ajaxing=true;ajax.preCommandsFocusedElementSelector=null;return ajax.beforeSubmit(formValues,elementSettings,options);},beforeSend(xmlhttprequest,options){ajax.ajaxing=true;return ajax.beforeSend(xmlhttprequest,options);},success(response,status,xmlhttprequest){ajax.preCommandsFocusedElementSelector=document.activeElement.getAttribute('data-drupal-selector');if(typeof response==='string')response=JSON.parse(response);if(response!==null&&!drupalSettings.ajaxTrustedUrl[ajax.url])if(xmlhttprequest.getResponseHeader('X-Drupal-Ajax-Token')!=='1'){const customMessage=Drupal.t('The response failed verification so will not be processed.');return ajax.error(xmlhttprequest,ajax.url,customMessage);}return (Promise.resolve(ajax.success(response,status)).then(()=>{ajax.ajaxing=false;$(document).trigger('ajaxSuccess',[xmlhttprequest,this]);$(document).trigger('ajaxComplete',[xmlhttprequest,this]);if(--$.active===0)$(document).trigger('ajaxStop');}));},error(xmlhttprequest,status,error){ajax.ajaxing=false;},complete(xmlhttprequest,status){if(status==='error'||status==='parsererror')return ajax.error(xmlhttprequest,ajax.url);},dataType:'json',jsonp:false,method:ajax.httpMethod};if(elementSettings.dialog)ajax.options.data.dialogOptions=elementSettings.dialog;if(!ajax.options.url.includes('?'))ajax.options.url+='?';else ajax.options.url+='&';let wrapper=`drupal_${elementSettings.dialogType||'ajax'}`;if(elementSettings.dialogRenderer)wrapper+=`.${elementSettings.dialogRenderer}`;ajax.options.url+=`${Drupal.ajax.WRAPPER_FORMAT}=${wrapper}`;$(ajax.element).on(elementSettings.event,function(event){if(!drupalSettings.ajaxTrustedUrl[ajax.url]&&!Drupal.url.isLocal(ajax.url))throw new Error(Drupal.t('The callback URL is not local and not trusted: !url',{'!url':ajax.url}));return ajax.eventResponse(this,event);});if(elementSettings.keypress)$(ajax.element).on('keypress',function(event){return ajax.keypressResponse(this,event);});if(elementSettings.prevent)$(ajax.element).on(elementSettings.prevent,false);};Drupal.ajax.WRAPPER_FORMAT='_wrapper_format';Drupal.Ajax.AJAX_REQUEST_PARAMETER='_drupal_ajax';Drupal.Ajax.prototype.execute=function(){if(this.ajaxing)return;try{this.beforeSerialize(this.element,this.options);return $.ajax(this.options);}catch(e){this.ajaxing=false;window.alert(`An error occurred while attempting to process ${this.options.url}: ${e.message}`);return $.Deferred().reject();}};Drupal.Ajax.prototype.keypressResponse=function(element,event){const ajax=this;if(event.which===13||(event.which===32&&element.type!=='text'&&element.type!=='textarea'&&element.type!=='tel'&&element.type!=='number')){event.preventDefault();event.stopPropagation();$(element).trigger(ajax.elementSettings.event);}};Drupal.Ajax.prototype.eventResponse=function(element,event){event.preventDefault();event.stopPropagation();const ajax=this;if(ajax.ajaxing)return;try{if(ajax.$form){if(ajax.setClick)element.form.clk=element;ajax.$form.ajaxSubmit(ajax.options);}else{ajax.beforeSerialize(ajax.element,ajax.options);$.ajax(ajax.options);}}catch(e){ajax.ajaxing=false;window.alert(`An error occurred while attempting to process ${ajax.options.url}: ${e.message}`);}};Drupal.Ajax.prototype.beforeSerialize=function(element,options){if(this.$form&&document.body.contains(this.$form.get(0))){const settings=this.settings||drupalSettings;Drupal.detachBehaviors(this.$form.get(0),settings,'serialize');}options.data[Drupal.Ajax.AJAX_REQUEST_PARAMETER]=1;const pageState=drupalSettings.ajaxPageState;options.data['ajax_page_state[theme]']=pageState.theme;options.data['ajax_page_state[theme_token]']=pageState.theme_token;options.data['ajax_page_state[libraries]']=pageState.libraries;};Drupal.Ajax.prototype.beforeSubmit=function(formValues,element,options){};Drupal.Ajax.prototype.beforeSend=function(xmlhttprequest,options){if(this.$form){options.extraData=options.extraData||{};options.extraData.ajax_iframe_upload='1';const v=$.fieldValue(this.element);if(v!==null)options.extraData[this.element.name]=v;}$(this.element).prop('disabled',true);if(!this.progress||!this.progress.type)return;const progressIndicatorMethod=`setProgressIndicator${this.progress.type.slice(0,1).toUpperCase()}${this.progress.type.slice(1).toLowerCase()}`;if(progressIndicatorMethod in this&&typeof this[progressIndicatorMethod]==='function')this[progressIndicatorMethod].call(this);};Drupal.theme.ajaxProgressThrobber=(message)=>{const messageMarkup=typeof message==='string'?Drupal.theme('ajaxProgressMessage',message):'';const throbber='<div class="throbber">&nbsp;</div>';return `<div class="ajax-progress ajax-progress-throbber">${throbber}${messageMarkup}</div>`;};Drupal.theme.ajaxProgressIndicatorFullscreen=()=>'<div class="ajax-progress ajax-progress-fullscreen">&nbsp;</div>';Drupal.theme.ajaxProgressMessage=(message)=>`<div class="message">${message}</div>`;Drupal.theme.ajaxProgressBar=($element)=>$('<div class="ajax-progress ajax-progress-bar"></div>').append($element);Drupal.Ajax.prototype.setProgressIndicatorBar=function(){const progressBar=new Drupal.ProgressBar(`ajax-progress-${this.element.id}`,$.noop,this.progress.method,$.noop);if(this.progress.message)progressBar.setProgress(-1,this.progress.message);if(this.progress.url)progressBar.startMonitoring(this.progress.url,this.progress.interval||1500);this.progress.element=$(Drupal.theme('ajaxProgressBar',progressBar.element));this.progress.object=progressBar;$(this.element).after(this.progress.element);};Drupal.Ajax.prototype.setProgressIndicatorThrobber=function(){this.progress.element=$(Drupal.theme('ajaxProgressThrobber',this.progress.message));if($(this.element).closest('[data-drupal-ajax-container]').length)$(this.element).closest('[data-drupal-ajax-container]').after(this.progress.element);else $(this.element).after(this.progress.element);};Drupal.Ajax.prototype.setProgressIndicatorFullscreen=function(){this.progress.element=$(Drupal.theme('ajaxProgressIndicatorFullscreen'));$('body').append(this.progress.element);};Drupal.Ajax.prototype.commandExecutionQueue=function(response,status){const ajaxCommands=this.commands;return Object.keys(response||{}).reduce((executionQueue,key)=>executionQueue.then(()=>{const {command}=response[key];if(command&&ajaxCommands[command])return ajaxCommands[command](this,response[key],status);}),Promise.resolve());};Drupal.Ajax.prototype.success=function(response,status){if(this.progress.element)$(this.progress.element).remove();if(this.progress.object)this.progress.object.stopMonitoring();$(this.element).prop('disabled',false);const elementParents=$(this.element).parents('[data-drupal-selector]').addBack().toArray();const focusChanged=Object.keys(response||{}).some((key)=>{const {command,method}=response[key];return (command==='focusFirst'||command==='openDialog'||(command==='invoke'&&method==='focus'));});return (this.commandExecutionQueue(response,status).then(()=>{if(!focusChanged){let target=false;if(this.element){if($(this.element).data('refocus-blur')&&this.preCommandsFocusedElementSelector)target=document.querySelector(`[data-drupal-selector="${this.preCommandsFocusedElementSelector}"]`);if(!target&&!$(this.element).data('disable-refocus')){for(let n=elementParents.length-1;!target&&n>=0;n--)target=document.querySelector(`[data-drupal-selector="${elementParents[n].getAttribute('data-drupal-selector')}"]`);}}if(target)$(target).trigger('focus');}if(this.$form&&document.body.contains(this.$form.get(0))){const settings=this.settings||drupalSettings;Drupal.attachBehaviors(this.$form.get(0),settings);}this.settings=null;}).catch((error)=>console.error(Drupal.t('An error occurred during the execution of the Ajax response: !error',{'!error':error}))));};Drupal.Ajax.prototype.getEffect=function(response){const type=response.effect||this.effect;const speed=response.speed||this.speed;const effect={};if(type==='none'){effect.showEffect='show';effect.hideEffect='hide';effect.showSpeed='';}else if(type==='fade'){effect.showEffect='fadeIn';effect.hideEffect='fadeOut';effect.showSpeed=speed;}else{effect.showEffect=`${type}Toggle`;effect.hideEffect=`${type}Toggle`;effect.showSpeed=speed;}return effect;};Drupal.Ajax.prototype.error=function(xmlhttprequest,uri,customMessage){if(this.progress.element)$(this.progress.element).remove();if(this.progress.object)this.progress.object.stopMonitoring();$(this.wrapper).show();$(this.element).prop('disabled',false);if(this.$form&&document.body.contains(this.$form.get(0))){const settings=this.settings||drupalSettings;Drupal.attachBehaviors(this.$form.get(0),settings);}throw new Drupal.AjaxError(xmlhttprequest,uri,customMessage);};Drupal.theme.ajaxWrapperNewContent=($newContent,ajax,response)=>(response.effect||ajax.effect)!=='none'&&$newContent.filter((i)=>!(($newContent[i].nodeName==='#comment'||($newContent[i].nodeName==='#text'&&/^(\s|\n|\r)*$/.test($newContent[i].textContent))))).length>1?Drupal.theme('ajaxWrapperMultipleRootElements',$newContent):$newContent;Drupal.theme.ajaxWrapperMultipleRootElements=($elements)=>$('<div></div>').append($elements);Drupal.AjaxCommands=function(){};Drupal.AjaxCommands.prototype={insert(ajax,response){const $wrapper=response.selector?$(response.selector):$(ajax.wrapper);const method=response.method||ajax.method;const effect=ajax.getEffect(response);const settings=response.settings||ajax.settings||drupalSettings;const parseHTML=(htmlString)=>{const fragment=document.createDocumentFragment();const template=fragment.appendChild(document.createElement('template'));template.innerHTML=htmlString;return template.content.childNodes;};let $newContent=$(parseHTML(response.data));$newContent=Drupal.theme('ajaxWrapperNewContent',$newContent,ajax,response);switch(method){case 'html':case 'replaceWith':case 'replaceAll':case 'empty':case 'remove':Drupal.detachBehaviors($wrapper.get(0),settings);break;default:break;}$wrapper[method]($newContent);if(effect.showEffect!=='show')$newContent.hide();const $ajaxNewContent=$newContent.find('.ajax-new-content');if($ajaxNewContent.length){$ajaxNewContent.hide();$newContent.show();$ajaxNewContent[effect.showEffect](effect.showSpeed);}else{if(effect.showEffect!=='show')$newContent[effect.showEffect](effect.showSpeed);}$newContent.each((index,element)=>{if(element.nodeType===Node.ELEMENT_NODE&&document.documentElement.contains(element))Drupal.attachBehaviors(element,settings);});},remove(ajax,response,status){const settings=response.settings||ajax.settings||drupalSettings;$(response.selector).each(function(){Drupal.detachBehaviors(this,settings);}).remove();},changed(ajax,response,status){const $element=$(response.selector);if(!$element.hasClass('ajax-changed')){$element.addClass('ajax-changed');if(response.asterisk)$element.find(response.asterisk).append(` <abbr class="ajax-changed" title="${Drupal.t('Changed')}">*</abbr> `);}},alert(ajax,response,status){window.alert(response.text);},announce(ajax,response){if(response.priority)Drupal.announce(response.text,response.priority);else Drupal.announce(response.text);},redirect(ajax,response,status){window.location=response.url;},css(ajax,response,status){$(response.selector).css(response.argument);},settings(ajax,response,status){const ajaxSettings=drupalSettings.ajax;if(ajaxSettings)Drupal.ajax.expired().forEach((instance)=>{if(instance.selector){const selector=instance.selector.replace('#','');if(selector in ajaxSettings)delete ajaxSettings[selector];}});if(response.merge)$.extend(true,drupalSettings,response.settings);else ajax.settings=response.settings;},data(ajax,response,status){$(response.selector).data(response.name,response.value);},focusFirst(ajax,response,status){let focusChanged=false;const container=document.querySelector(response.selector);if(container){const tabbableElements=tabbable(container);if(tabbableElements.length){tabbableElements[0].focus();focusChanged=true;}else{if(isFocusable(container)){container.focus();focusChanged=true;}}}if(ajax.hasOwnProperty('element')&&!focusChanged)ajax.element.focus();},invoke(ajax,response,status){const $element=$(response.selector);$element[response.method](...response.args);},restripe(ajax,response,status){$(response.selector).find('> tbody > tr:visible, > tr:visible').removeClass('odd even').filter(':even').addClass('odd').end().filter(':odd').addClass('even');},update_build_id(ajax,response,status){document.querySelectorAll(`input[name="form_build_id"][value="${response.old}"]`).forEach((item)=>{item.value=response.new;});},add_css(ajax,response,status){const allUniqueBundleIds=response.data.map(function(style){const uniqueBundleId=style.href;if(!loadjs.isDefined(uniqueBundleId))loadjs(`css!${style.href}`,uniqueBundleId,{before(path,styleEl){Object.keys(style).forEach((attributeKey)=>{styleEl.setAttribute(attributeKey,style[attributeKey]);});}});return uniqueBundleId;});return new Promise((resolve,reject)=>{loadjs.ready(allUniqueBundleIds,{success(){resolve();},error(depsNotFound){const message=Drupal.t(`The following files could not be loaded: @dependencies`,{'@dependencies':depsNotFound.join(', ')});reject(message);}});});},message(ajax,response){const messages=new Drupal.Message(document.querySelector(response.messageWrapperQuerySelector));if(response.clearPrevious)messages.clear();messages.add(response.message,response.messageOptions);},add_js(ajax,response,status){const parentEl=document.querySelector(response.selector||'body');const settings=ajax.settings||drupalSettings;const allUniqueBundleIds=response.data.map((script)=>{const uniqueBundleId=script.src;if(!loadjs.isDefined(uniqueBundleId))loadjs(script.src,uniqueBundleId,{async:false,before(path,scriptEl){Object.keys(script).forEach((attributeKey)=>{scriptEl.setAttribute(attributeKey,script[attributeKey]);});parentEl.appendChild(scriptEl);return false;}});return uniqueBundleId;});return new Promise((resolve,reject)=>{loadjs.ready(allUniqueBundleIds,{success(){Drupal.attachBehaviors(parentEl,settings);resolve();},error(depsNotFound){const message=Drupal.t(`The following files could not be loaded: @dependencies`,{'@dependencies':depsNotFound.join(', ')});reject(message);}});});},scrollTop(ajax,response){const offset=$(response.selector).offset();let scrollTarget=response.selector;while($(scrollTarget).scrollTop()===0&&$(scrollTarget).parent())scrollTarget=$(scrollTarget).parent();if(offset.top-10<$(scrollTarget).scrollTop())scrollTarget.get(0).scrollTo({top:offset.top-10,behavior:'smooth'});}};const stopEvent=(xhr,settings)=>{return (xhr.getResponseHeader('X-Drupal-Ajax-Token')==='1'&&typeof settings.isInProgress==='function'&&settings.isInProgress());};$.extend(true,$.event.special,{ajaxSuccess:{trigger(event,xhr,settings){if(stopEvent(xhr,settings))return false;}},ajaxComplete:{trigger(event,xhr,settings){if(stopEvent(xhr,settings)){$.active++;return false;}}}});})(jQuery,window,Drupal,drupalSettings,loadjs,window.tabbable);;
((Drupal,drupalSettings,once)=>{'use strict';Drupal.solo=Drupal.solo||{};Drupal.solo.animations={slideUp:drupalSettings.solo?.slideUpSpeed||350,slideDown:drupalSettings.solo?.slideDownSpeed||500,megaMenu:drupalSettings.solo?.megaMenuSpeed||800,reset:drupalSettings.solo?.slideUpSpeed||350,clickDelay:500};const animations=Drupal.solo.animations;const prefersReducedMotion=()=>window.matchMedia&&window.matchMedia('(prefers-reduced-motion: reduce)').matches;const BREAKPOINTS={XS:576,SM:768,MD:992,LG:1200,XL:1400};const SELECTORS={PAGE_WRAPPER:'.page-wrapper',SOLO_MENUS:'.solo-inner nav ul:not(.field ul)',SOLO_MENUS_ALL:'.solo-inner nav ul',FILE_UPLOAD_WRAPPER:'.solo-file-upload-wrapper',FILE_INPUT:'.solo-file-native',FILE_NAME:'.solo-file-name',SEARCH_DETAILS:'.search-form details.search-advanced',DETAILS_WRAPPER:'.details-wrapper'};const activeAnimations=new WeakMap();const cssStyles={overflow:'hidden',height:'0',paddingTop:'0',paddingBottom:'0',marginTop:'0',marginBottom:'0'};const removeStyles=(target)=>{if(!target||!(target instanceof HTMLElement)){console.warn('Solo: Invalid target element provided to removeStyles');return;}const props=['height','padding-top','padding-bottom','margin-top','margin-bottom','overflow','transition-duration','transition-property','transition-timing-function','box-sizing'];try{props.forEach((p)=>target.style.removeProperty(p));}catch(error){console.error('Solo: Error removing styles',error);}};Drupal.solo.removeStyles=removeStyles;const updateTabindex=(target,isOpen,componentName='utils')=>{if(!target||!(target instanceof HTMLElement))return;try{if(Drupal.solo.menuState)Drupal.solo.menuState.updateMenuTabindex(target,isOpen,componentName);else{const firstLevelItems=target.querySelectorAll(':scope > li > a, :scope > li > button');firstLevelItems.forEach((item)=>{item.setAttribute('tabindex',isOpen?'0':'-1');});}}catch(error){console.error('Solo: Error updating tabindex',error);}};const clearAnimationTimeout=(element)=>{const timeoutId=activeAnimations.get(element);if(timeoutId){clearTimeout(timeoutId);activeAnimations.delete(element);}};const slideUp=(target,duration=animations.slideUp,componentName='utils')=>{if(!target||!(target instanceof HTMLElement)){console.warn('Solo: Invalid target element provided to slideUp');return false;}clearAnimationTimeout(target);if(prefersReducedMotion()){target.classList.remove('toggled');if(Drupal.solo.menuState)Drupal.solo.menuState.setHidden(target,false,componentName);else target.setAttribute('aria-hidden','true');updateTabindex(target,false,componentName);target.style.display='none';removeStyles(target);Drupal.announce(Drupal.t('Content collapsed'));return true;}try{target.style.transitionProperty='height, margin, padding';target.style.transitionDuration=`${duration}ms`;target.style.transitionTimingFunction='ease-in-out';target.style.boxSizing='border-box';target.style.height=`${target.offsetHeight}px`;void target.offsetHeight;target.classList.remove('toggled');if(Drupal.solo.menuState)Drupal.solo.menuState.setHidden(target,false,componentName);else target.setAttribute('aria-hidden','true');updateTabindex(target,false,componentName);Object.keys(cssStyles).forEach((style)=>{target.style[style]=cssStyles[style];});const timeoutId=setTimeout(()=>{if(target&&target.parentNode){target.style.display='none';removeStyles(target);activeAnimations.delete(target);Drupal.announce(Drupal.t('Content collapsed'));}},duration);activeAnimations.set(target,timeoutId);return true;}catch(error){console.error('Solo: Error in slideUp animation',error);return false;}};Drupal.solo.slideUp=slideUp;const slideDown=(target,duration=animations.slideDown,menuDisplay='block',componentName='utils')=>{if(!target||!(target instanceof HTMLElement)){console.warn('Solo: Invalid target element provided to slideDown');return false;}clearAnimationTimeout(target);if(prefersReducedMotion()){target.style.display=menuDisplay;target.classList.add('toggled');if(Drupal.solo.menuState)Drupal.solo.menuState.setAriaAttribute(target,'aria-hidden','false',componentName);else target.setAttribute('aria-hidden','false');updateTabindex(target,true,componentName);removeStyles(target);Drupal.announce(Drupal.t('Content expanded'));return true;}try{target.style.removeProperty('display');let currentDisplay=window.getComputedStyle(target).display;if(currentDisplay==='none')currentDisplay=menuDisplay;target.style.display=menuDisplay;let height=target.offsetHeight;height=Math.round(height);Object.keys(cssStyles).forEach((style)=>{target.style[style]=cssStyles[style];});void target.offsetHeight;target.style.boxSizing='border-box';target.style.transitionProperty='height, margin, padding';target.style.transitionDuration=`${duration}ms`;target.style.transitionTimingFunction='ease-in-out';target.style.height=`${height}px`;target.classList.add('toggled');if(Drupal.solo.menuState)Drupal.solo.menuState.setAriaAttribute(target,'aria-hidden','false',componentName);else target.setAttribute('aria-hidden','false');updateTabindex(target,true,componentName);['padding-top','padding-bottom','margin-top','margin-bottom'].forEach((property)=>{target.style.removeProperty(property);});const timeoutId=setTimeout(()=>{if(target&&target.parentNode){['height','overflow','transition-duration','transition-property','transition-timing-function','box-sizing'].forEach((property)=>target.style.removeProperty(property));activeAnimations.delete(target);Drupal.announce(Drupal.t('Content expanded'));}},duration);activeAnimations.set(target,timeoutId);return true;}catch(error){console.error('Solo: Error in slideDown animation',error);return false;}};Drupal.solo.slideDown=slideDown;const slideToggle=(target,duration=animations.slideUp,componentName='utils')=>{if(!target||!(target instanceof HTMLElement)){console.warn('Solo: Invalid target element provided to slideToggle');return false;}if(activeAnimations.has(target))return false;if(!target.classList.contains('toggled'))return slideDown(target,duration,'flex',componentName);else return slideUp(target,duration,componentName);};Drupal.solo.slideToggle=slideToggle;const getCurrentWidth=()=>{if(Drupal.solo.menuState)return Drupal.solo.menuState.getCurrentWidth();return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0;};const calculateDepth=(element)=>{if(!element||!(element instanceof HTMLElement))return 1;let depth=1;let parent=element.parentElement;while(parent){if(parent.tagName.toLowerCase()==='ul')depth++;parent=parent.parentElement;}return depth;};Drupal.solo.calculateDepth=calculateDepth;const addClassAccordingToDepth=(element,depth)=>{if(!element||!(element instanceof HTMLElement))return;try{element.classList.add(`ul-${depth}`);const children=element.children;for(let i=0;i<children.length;i++)if(children[i] instanceof HTMLElement)children[i].classList.add(`li-${depth}`);}catch(error){console.error('Solo: Error adding depth classes',error);}};const getMyBreakpoints=(element,mn)=>{if(!element||!(element instanceof HTMLElement))return BREAKPOINTS.MD;const classes=[`${mn}-${BREAKPOINTS.XS}`,`${mn}-${BREAKPOINTS.SM}`,`${mn}-${BREAKPOINTS.MD}`,`${mn}-${BREAKPOINTS.LG}`,`${mn}-${BREAKPOINTS.XL}`];const classList=Array.from(element.classList);const foundClass=classList.find((c)=>classes.includes(c));if(foundClass){const parts=foundClass.split('-');const value=parseInt(parts[parts.length-1],10);return isNaN(value)?BREAKPOINTS.MD:value;}return BREAKPOINTS.MD;};Drupal.solo.getMyBreakpoints=getMyBreakpoints;Drupal.solo.getBreakpointNumber=(breakpointPrefix='mn')=>{const pageClass=document.querySelector(SELECTORS.PAGE_WRAPPER);if(!pageClass){console.warn('Solo: Page wrapper element not found');return BREAKPOINTS.MD;}return Drupal.solo.getMyBreakpoints(pageClass,breakpointPrefix);};const getLayout=()=>{const pageClass=document.querySelector(SELECTORS.PAGE_WRAPPER);if(!pageClass){console.warn('Solo: Page wrapper element not found');return 'small';}const brNum=Drupal.solo.getMyBreakpoints(pageClass,'mn');const currentWidth=getCurrentWidth();return currentWidth>brNum?'large':'small';};Drupal.solo.getLayout=getLayout;Drupal.behaviors.soloMenuDepth={attach:(context,settings)=>{try{const allMenus=once('soloMenuDepth',SELECTORS.SOLO_MENUS_ALL,context);const menus=allMenus.filter((menu)=>!menu.closest('.field'));menus.forEach((element)=>{const depth=calculateDepth(element);addClassAccordingToDepth(element,depth);});}catch(error){console.error('Solo: Error in soloMenuDepth behavior',error);}},detach:(context,settings,trigger)=>{if(trigger==='unload')try{const allProcessed=once.filter('soloMenuDepth',SELECTORS.SOLO_MENUS_ALL,context);const processedMenus=allProcessed.filter((menu)=>!menu.closest('.field'));processedMenus.forEach((element)=>{Array.from(element.classList).forEach((cn)=>{if(/^ul-\d+$/.test(cn))element.classList.remove(cn);});Array.from(element.children).forEach((child)=>{if(child instanceof HTMLElement)Array.from(child.classList).forEach((cn)=>{if(/^li-\d+$/.test(cn))child.classList.remove(cn);});});});once.remove('soloMenuDepth',SELECTORS.SOLO_MENUS_ALL,context);}catch(error){console.error('Solo: Error in soloMenuDepth detach',error);}}};Drupal.behaviors.soloFileUpload={handlers:new WeakMap(),attach(context){try{const wrappers=once('solo-file-upload',SELECTORS.FILE_UPLOAD_WRAPPER,context);wrappers.forEach((wrapper)=>{const input=wrapper.querySelector(SELECTORS.FILE_INPUT);const fileName=wrapper.querySelector(SELECTORS.FILE_NAME);if(!input||!fileName){console.warn('Solo: File upload elements not found in wrapper');return;}const handler=(event)=>{try{if(input.files&&input.files.length>0){const file=input.files[0];fileName.textContent=file.name;Drupal.announce(Drupal.t('File selected: @filename',{'@filename':file.name}));}else fileName.textContent=Drupal.t('No file chosen');}catch(error){console.error('Solo: Error handling file selection',error);fileName.textContent=Drupal.t('Error selecting file');}};this.handlers.set(input,handler);input.addEventListener('change',handler);});}catch(error){console.error('Solo: Error in soloFileUpload behavior',error);}},detach(context,settings,trigger){if(trigger==='unload')try{const wrappers=once.filter('solo-file-upload',SELECTORS.FILE_UPLOAD_WRAPPER,context);wrappers.forEach((wrapper)=>{const input=wrapper.querySelector(SELECTORS.FILE_INPUT);if(input){const handler=this.handlers.get(input);if(handler){input.removeEventListener('change',handler);this.handlers.delete(input);}}});once.remove('solo-file-upload',SELECTORS.FILE_UPLOAD_WRAPPER,context);}catch(error){console.error('Solo: Error in soloFileUpload detach',error);}}};Drupal.behaviors.soloSearchAnimation={handlers:new WeakMap(),attach:(context,settings)=>{const behavior=Drupal.behaviors.soloSearchAnimation;try{const detailsElements=once('soloDetailsAnimation',SELECTORS.SEARCH_DETAILS,context);detailsElements?.forEach((detail)=>{const wrapper=detail.querySelector(SELECTORS.DETAILS_WRAPPER);if(!wrapper){console.warn('Solo: Details wrapper not found');return;}wrapper.style.transition='height 0.3s ease-in-out, opacity 0.3s ease-in-out';if(!detail.open){wrapper.style.height='0';wrapper.style.opacity='0';wrapper.style.overflow='hidden';}else{wrapper.style.overflow='hidden';wrapper.style.height='auto';wrapper.style.opacity='1';}const transitionEndHandler=(event)=>{if(event.target===wrapper&&detail.open)wrapper.style.height='auto';};const toggleHandler=()=>{try{if(detail.open){const contentHeight=wrapper.scrollHeight+'px';wrapper.style.height=contentHeight;wrapper.style.opacity='1';setTimeout(()=>{Drupal.announce(Drupal.t('Search options expanded'));},100);wrapper.addEventListener('transitionend',transitionEndHandler,{once:true});}else{wrapper.style.height=wrapper.scrollHeight+'px';requestAnimationFrame(()=>{wrapper.style.height='0';wrapper.style.opacity='0';});setTimeout(()=>{Drupal.announce(Drupal.t('Search options collapsed'));},100);}}catch(error){console.error('Solo: Error in search animation',error);}};behavior.handlers.set(detail,{toggleHandler,transitionEndHandler});detail.addEventListener('toggle',toggleHandler);});}catch(error){console.error('Solo: Error in soloSearchAnimation behavior',error);}},detach:(context,settings,trigger)=>{if(trigger==='unload'){const behavior=Drupal.behaviors.soloSearchAnimation;try{const detailsElements=once.filter('soloDetailsAnimation',SELECTORS.SEARCH_DETAILS,context);detailsElements?.forEach((detail)=>{const handlers=behavior.handlers.get(detail);if(handlers){detail.removeEventListener('toggle',handlers.toggleHandler);const wrapper=detail.querySelector(SELECTORS.DETAILS_WRAPPER);if(wrapper)wrapper.removeEventListener('transitionend',handlers.transitionEndHandler);behavior.handlers.delete(detail);}});once.remove('soloDetailsAnimation',SELECTORS.SEARCH_DETAILS,context);}catch(error){console.error('Solo: Error in soloSearchAnimation detach',error);}}}};if(typeof Drupal.solo.cleanup==='undefined')Drupal.solo.cleanup=()=>{activeAnimations.forEach((timeoutId,element)=>{clearTimeout(timeoutId);});activeAnimations.clear();};})(Drupal,drupalSettings,once);;
((Drupal,drupalSettings,once)=>{'use strict';const getCurrentWidth=()=>window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;const checkRegionsWidth=()=>{const regions=document.querySelectorAll('.region-inner, .copyright-inner, .footer-menu-inner');regions.forEach((region)=>{const regionWidth=region.getBoundingClientRect().width;region.classList.remove('region-xs','region-s','region-m','region-l','region-xl','region-xxl');if(regionWidth<=320)region.classList.add('region-xs');else if(regionWidth>320&&regionWidth<=576)region.classList.add('region-s');else if(regionWidth>576&&regionWidth<=768)region.classList.add('region-m');else if(regionWidth>768&&regionWidth<=992)region.classList.add('region-l');else if(regionWidth>992&&regionWidth<=1200)region.classList.add('region-xl');else{if(regionWidth>1200)region.classList.add('region-xxl');}});};const mediaSize=()=>{const currentWidth=getCurrentWidth();const bodyTag=document.body;bodyTag.classList.remove('small-screen','medium-screen','large-screen');if(currentWidth>=992)bodyTag.classList.add('large-screen');else if(currentWidth>=576&&currentWidth<992)bodyTag.classList.add('medium-screen');else{if(currentWidth<576)bodyTag.classList.add('small-screen');}checkRegionsWidth();};Drupal.behaviors.soloTheme={attach:function(context,settings){const fileSpans=context.querySelectorAll('.field--type-file span.file');fileSpans.forEach((span)=>{const link=span.querySelector('a');if(link&&span.contains(link)){const url=link.getAttribute('href');const urlParts=url.split('.');const fileExtension=urlParts[urlParts.length-1];if(fileExtension)span.classList.add(`file--${fileExtension}`);}});const footerMenu=context.querySelector('#footer-menu');if(footerMenu){const footerFormBg=window.getComputedStyle(footerMenu).backgroundColor;const footerFormTxt=window.getComputedStyle(footerMenu).color;let footerMenuForm=context.querySelector('#footer-menu form');if(footerMenuForm){footerMenuForm.style.background=footerFormBg;footerMenuForm.style.color=footerFormTxt;}}const detailsElements=context.querySelectorAll('#system-theme-settings details');detailsElements.forEach((element)=>{element.removeAttribute('open');});let clickableElements=context.querySelectorAll('a > img, a > picture');const filteredElements=Array.from(clickableElements).filter((el)=>{let ancestor=el.parentElement;while(ancestor&&ancestor!==document.body){if(ancestor.matches('.site-logo, .field--name-user-picture, .field--type-text-long, .field--type-text-with-summary'))return false;ancestor=ancestor.parentElement;}if(el.classList.contains('icon')||(el.parentElement&&el.parentElement.classList.contains('icon')))return false;return true;});filteredElements.forEach((el)=>{el.parentElement.classList.add('img--is-clickable');});const handleBrokenImages=(context)=>{const images=context.querySelectorAll('img');images.forEach((img)=>{img.onerror=function(){if(!this.classList.contains('broken-image')){this.classList.add('broken-image');const placeholder=document.createElement('div');placeholder.className='img-placeholder';placeholder.innerHTML='Image not available';this.style.display='none';this.parentNode.insertBefore(placeholder,this.nextSibling);}};img.src=img.src;});};let skipLinkClicked=false;const handleSkipLinkClick=(skipLinkSelector,targetSelector)=>{const skipLink=document.querySelector(skipLinkSelector);const targetElement=document.querySelector(targetSelector);if(skipLink&&targetElement)skipLink.addEventListener('click',(event)=>{event.preventDefault();skipLinkClicked=true;targetElement.setAttribute('tabindex','-1');targetElement.focus({preventScroll:true});window.scrollTo({top:targetElement.offsetTop,behavior:'smooth'});setTimeout(()=>{targetElement.removeAttribute('tabindex');},500);history.replaceState(null,'',window.location.pathname);});};handleSkipLinkClick('.skip-link[href="#header-content"]','#header-content');handleSkipLinkClick('.skip-link[href="#main-navigation-content"]','#main-navigation-content');handleSkipLinkClick('.skip-link[href="#main-content"]','#main-content');handleSkipLinkClick('.skip-link[href="#footer-content"]','#footer-content');if(window.location.hash&&skipLinkClicked){const targetElement=document.querySelector(window.location.hash);if(targetElement){window.scrollTo({top:targetElement.offsetTop,behavior:'smooth'});targetElement.setAttribute('tabindex','-1');targetElement.focus({preventScroll:true});setTimeout(()=>{targetElement.removeAttribute('tabindex');},500);}}handleBrokenImages(context);mediaSize();let resizeTimeout;window.addEventListener('resize',()=>{clearTimeout(resizeTimeout);resizeTimeout=setTimeout(()=>{mediaSize();},200);});}};})(Drupal,drupalSettings,once);;
(function(Drupal,drupalSettings,once){'use strict';Drupal.solo=Drupal.solo||{};const CONFIG={selectors:{message:'[data-drupal-selector="messages"]',container:'[data-drupal-selector="messages-container"]',buttonWrapper:'messages__button',closeButton:'messages__close',hiddenClass:'hidden',visuallyHidden:'visually-hidden'},animation:{hideDelay:300,removeDelay:500},aria:{label:Drupal.t('Close message'),live:'polite',role:'status'}};const initializedMessages=new WeakMap();const createCloseButton=(messageId)=>{try{const closeBtnWrapper=document.createElement('div');closeBtnWrapper.classList.add(CONFIG.selectors.buttonWrapper);const closeBtn=document.createElement('button');closeBtn.setAttribute('type','button');closeBtn.classList.add(CONFIG.selectors.closeButton);closeBtn.setAttribute('aria-label',CONFIG.aria.label);closeBtn.setAttribute('aria-controls',messageId);const closeBtnText=document.createElement('span');closeBtnText.classList.add(CONFIG.selectors.visuallyHidden);closeBtnText.textContent=CONFIG.aria.label;closeBtn.appendChild(closeBtnText);closeBtnWrapper.appendChild(closeBtn);return closeBtnWrapper;}catch(error){if(window.console&&console.error)console.error('Solo Theme: Failed to create close button',error);return null;}};const handleCloseClick=(message,event)=>{try{event.preventDefault();event.stopPropagation();message.classList.add(CONFIG.selectors.hiddenClass);if(message.getAttribute('role')==='status'){const announcement=document.createElement('div');announcement.setAttribute('role','status');announcement.setAttribute('aria-live','polite');announcement.classList.add(CONFIG.selectors.visuallyHidden);announcement.textContent=Drupal.t('Message closed');document.body.appendChild(announcement);setTimeout(()=>{if(announcement.parentNode)announcement.parentNode.removeChild(announcement);},1000);}setTimeout(()=>{if(message.parentNode){cleanupMessage(message);const removeEvent=new CustomEvent('solo:messageRemoved',{detail:{message},bubbles:true});document.dispatchEvent(removeEvent);message.parentNode.removeChild(message);}},CONFIG.animation.removeDelay);}catch(error){if(window.console&&console.error)console.error('Solo Theme: Error closing message',error);}};const cleanupMessage=(message)=>{const data=initializedMessages.get(message);if(data&&data.closeHandler){const closeBtn=message.querySelector(`.${CONFIG.selectors.closeButton}`);if(closeBtn)closeBtn.removeEventListener('click',data.closeHandler);}initializedMessages.delete(message);};const closeMessage=(message)=>{try{if(!message||!(message instanceof HTMLElement))throw new Error('Invalid message element');if(initializedMessages.has(message))return;let messageContainer=message.querySelector(CONFIG.selectors.container);if(!messageContainer)messageContainer=message;if(!message.id)message.id=`solo-message-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;if(!message.hasAttribute('role'))message.setAttribute('role','status');if(!message.hasAttribute('aria-live'))message.setAttribute('aria-live',CONFIG.aria.live);const closeBtnWrapper=createCloseButton(message.id);if(!closeBtnWrapper)throw new Error('Failed to create close button');messageContainer.appendChild(closeBtnWrapper);const closeBtn=closeBtnWrapper.querySelector(`.${CONFIG.selectors.closeButton}`);if(!closeBtn)throw new Error('Close button not found after creation');const boundHandleClose=handleCloseClick.bind(null,message);closeBtn.addEventListener('click',boundHandleClose);initializedMessages.set(message,{closeHandler:boundHandleClose,closeButton:closeBtn});const initEvent=new CustomEvent('solo:messageInitialized',{detail:{message},bubbles:true});message.dispatchEvent(initEvent);}catch(error){if(window.console&&console.error)console.error('Solo Theme: Failed to initialize message close button',error);}};Drupal.behaviors.soloMessages={attach:function(context,settings){const messages=once('solo-messages',CONFIG.selectors.message,context);messages.forEach(function(message){closeMessage(message);});if(settings.solo&&settings.solo.debug)if(messages.length>0&&window.console&&console.log)console.log(`Solo Theme: Initialized ${messages.length} message(s)`);},detach:function(context,settings,trigger){if(trigger!=='unload'){const messages=context.querySelectorAll?context.querySelectorAll(CONFIG.selectors.message):[];messages.forEach(function(message){if(initializedMessages.has(message)){cleanupMessage(message);const closeBtnWrapper=message.querySelector(`.${CONFIG.selectors.buttonWrapper}`);if(closeBtnWrapper&&closeBtnWrapper.parentNode)closeBtnWrapper.parentNode.removeChild(closeBtnWrapper);if(message.dataset.onceMessages)delete message.dataset.onceMessages;}});if(settings.solo&&settings.solo.debug&&messages.length>0)if(window.console&&console.log)console.log(`Solo Theme: Cleaned up ${messages.length} message(s)`);}}};Drupal.solo.messages={close:function(messageOrId){try{const message=typeof messageOrId==='string'?document.getElementById(messageOrId):messageOrId;if(message&&message.classList){const closeBtn=message.querySelector(`.${CONFIG.selectors.closeButton}`);if(closeBtn){closeBtn.click();return true;}}return false;}catch(error){if(window.console&&console.error)console.error('Solo Theme: Failed to close message',error);return false;}},closeAll:function(){let count=0;try{const messages=document.querySelectorAll(CONFIG.selectors.message);messages.forEach(function(message){if(Drupal.solo.messages.close(message))count++;});}catch(error){if(window.console&&console.error)console.error('Solo Theme: Failed to close all messages',error);}return count;},getConfig:function(){return Object.freeze(Object.assign({},CONFIG));}};Drupal.solo.closeMessage=closeMessage;})(Drupal,drupalSettings,once);;
((Drupal,drupalSettings)=>{'use strict';Drupal.solo=Drupal.solo||{};Drupal.solo.menuState={activeComponents:new Set(),resizeHandlers:new Map(),resizeTimeout:null,ariaStates:new Map(),tabindexStates:new Map(),activeOperations:new Map(),screenSize:{width:0,breakpoint:null,isSmallScreen:false},registerComponent(componentName,component){this.activeComponents.add(componentName);},unregisterComponent(componentName){this.activeComponents.delete(componentName);this.resizeHandlers.delete(componentName);},getCurrentWidth(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0;},updateScreenSize(){const pageWrapper=document.querySelector('.page-wrapper');if(!pageWrapper)return;this.screenSize.width=this.getCurrentWidth();this.screenSize.breakpoint=Drupal.solo.getMyBreakpoints(pageWrapper,'mn');this.screenSize.isSmallScreen=this.screenSize.width<=this.screenSize.breakpoint;},addResizeHandler(componentName,handler,delay=250){this.resizeHandlers.set(componentName,{handler,delay});if(this.globalResizeHandler)window.removeEventListener('resize',this.globalResizeHandler);this.globalResizeHandler=()=>{clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(()=>{this.updateScreenSize();this.resizeHandlers.forEach(({handler})=>{try{handler(this.screenSize);}catch(error){console.error('Solo Menu: Error in resize handler',error);}});},Math.max(...Array.from(this.resizeHandlers.values()).map((h)=>h.delay)));};window.addEventListener('resize',this.globalResizeHandler);},setAriaAttribute(element,attribute,value,componentName){if(!element||!(element instanceof HTMLElement))return;const key=`${element.id||element.className}-${attribute}`;const currentOwner=this.ariaStates.get(key);if(currentOwner&&currentOwner!==componentName&&drupalSettings?.solo?.debug)console.debug(`Solo Menu: ARIA conflict - ${attribute} on element, current: ${currentOwner}, new: ${componentName}`);element.setAttribute(attribute,value);this.ariaStates.set(key,componentName);this.notifyAriaChange(element,attribute,value,componentName);},setExpanded(element,isExpanded,componentName='unknown'){this.setAriaAttribute(element,'aria-expanded',isExpanded?'true':'false',componentName);},setHidden(element,isHidden,componentName='unknown'){this.setAriaAttribute(element,'aria-hidden',isHidden?'true':'false',componentName);},setTabindex(element,value,componentName){if(!element||!(element instanceof HTMLElement))return;const key=element.id||element.className||element.tagName;const currentState=this.tabindexStates.get(key);const priorities={'keyboard':3,'mobile':2,'sidebar':2,'default':1};const currentPriority=currentState?priorities[currentState.component]||1:0;const newPriority=priorities[componentName]||1;if(newPriority>=currentPriority){element.setAttribute('tabindex',value);this.tabindexStates.set(key,{component:componentName,value,timestamp:Date.now()});}},updateMenuTabindex(container,isOpen,componentName='unknown'){if(!container)return;const items=container.querySelectorAll(':scope > li > a, :scope > li > button');items.forEach((item)=>{this.setTabindex(item,isOpen?'0':'-1',componentName);});},hideSubmenu(subMenu,componentName='unknown'){if(!subMenu)return;Drupal.solo.slideUp(subMenu,Drupal.solo.animations.slideUp,componentName);this.setHidden(subMenu,true,componentName);const toggler=subMenu.previousElementSibling;if(toggler?.classList.contains('dropdown-toggler'))this.setExpanded(toggler,false,componentName);},notifyAriaChange(element,attribute,value,changedBy){element.dispatchEvent(new CustomEvent('solo-aria-change',{detail:{attribute,value,changedBy},bubbles:true}));},getMenuState(menuElement){const isOpen=menuElement.classList.contains('toggled');const ariaExpanded=menuElement.getAttribute('aria-expanded')==='true';const ariaHidden=menuElement.getAttribute('aria-hidden')==='false';if(isOpen!==ariaExpanded||isOpen===ariaHidden){if(drupalSettings?.solo?.debug)console.debug('Solo Menu: Resolving state conflict for',menuElement);this.setAriaAttribute(menuElement,'aria-expanded',isOpen?'true':'false','state-resolver');this.setAriaAttribute(menuElement,'aria-hidden',isOpen?'false':'true','state-resolver');}return {isOpen,ariaExpanded:isOpen,ariaHidden:!isOpen};},shouldProceedWithOperation(menuElement,componentName,operation){const menuId=menuElement.id||menuElement.className;const activeOp=this.activeOperations.get(menuId);if(!activeOp)return true;const priorities={'keyboard':4,'mobile':3,'sidebar':2,'scripts':1,'main':1,'repositions':1};const currentPriority=priorities[activeOp.component]||1;const newPriority=priorities[componentName]||1;return newPriority>currentPriority;},coordinateMenuOperation(operation,menuElement,componentName){if(!this.shouldProceedWithOperation(menuElement,componentName,operation))return;const menuId=menuElement.id||menuElement.className;this.activeOperations.set(menuId,{component:componentName,operation,timestamp:Date.now()});const operations={'open':()=>{menuElement.classList.add('toggled');this.setAriaAttribute(menuElement,'aria-expanded','true',componentName);this.setAriaAttribute(menuElement,'aria-hidden','false',componentName);},'close':()=>{menuElement.classList.remove('toggled');this.setAriaAttribute(menuElement,'aria-expanded','false',componentName);this.setAriaAttribute(menuElement,'aria-hidden','true',componentName);},'toggle':()=>{const {isOpen}=this.getMenuState(menuElement);this.coordinateMenuOperation(isOpen?'close':'open',menuElement,componentName);}};if(operations[operation])operations[operation]();setTimeout(()=>{if(this.activeOperations.get(menuId)?.timestamp===this.activeOperations.get(menuId)?.timestamp)this.activeOperations.delete(menuId);},50);},cleanup(){if(this.globalResizeHandler)window.removeEventListener('resize',this.globalResizeHandler);if(this.resizeTimeout)clearTimeout(this.resizeTimeout);this.resizeHandlers.clear();this.ariaStates.clear();this.tabindexStates.clear();this.activeComponents.clear();}};Drupal.solo.menuState.updateScreenSize();Drupal.solo.getCurrentWidth=()=>Drupal.solo.menuState.getCurrentWidth();const originalHideSubMenus=Drupal.solo.hideSubMenus;Drupal.solo.hideSubMenus=(submenu,componentName='unknown')=>{if(originalHideSubMenus)originalHideSubMenus(submenu);Drupal.solo.menuState.coordinateMenuOperation('close',submenu,componentName);};if(window.addEventListener)window.addEventListener('beforeunload',()=>{Drupal.solo.menuState.cleanup();});})(Drupal,drupalSettings);;
((Drupal,drupalSettings,once)=>{'use strict';const COMPONENT_NAME='main';const animations=Drupal.solo.animations;if(Drupal.solo.menuState)Drupal.solo.menuState.registerComponent(COMPONENT_NAME,{name:'Solo Main Menu',version:'1.0'});const CONFIG={selectors:{menuBar:'.solo-inner .solo-menu .navigation__menubar',subMenus:'.solo-inner .solo-menu .navigation__menubar ul',svgIcons:'.solo-inner .solo-menu .navigation__menubar .toggler-icon>svg',megaMenuClick:{big:'.solo-inner .solo-menu.navigation-responsive-click .navigation__megamenu>li>.dropdown-toggler',small:'.solo-inner .solo-menu.navigation-responsive-click .navigation__megamenu li .dropdown-toggler'},megaMenuHover:'.solo-inner .solo-menu.navigation-responsive-hover .navigation__megamenu li .dropdown-toggler',responsiveHover:'.solo-inner .solo-menu.navigation-responsive-hover .navigation__menubar:not(.navigation__megamenu) .dropdown-toggler',responsiveClick:'.solo-inner .solo-menu.navigation-responsive-click .navigation__menubar:not(.navigation__megamenu) .dropdown-toggler',default:'.solo-inner .solo-menu .navigation__default .dropdown-toggler',sidebarHover:'.solo-inner .solo-menu.navigation-sidebar-hover li .dropdown-toggler',sidebarClick:'.solo-inner .solo-menu.navigation-sidebar-click li .dropdown-toggler'}};const ARROW_ROTATIONS={'default':'rotate(180deg)','ltr-right':'rotate(-90deg)','ltr-left':'rotate(90deg)','rtl-right':'rotate(90deg)','rtl-left':'rotate(-90deg)'};const state={resizeHandler:null,isClicked:false,currentWidth:0,currentLayout:null,previousLayout:null,brNum:0};const getCurrentWidth=()=>Drupal.solo.menuState.getCurrentWidth();const utils={querySelectorElements:(selector,context)=>context.querySelectorAll(selector)??null,hasParentWithClass:(element,className)=>!!element.closest(`.${className}`),getNavTagId:(dropdownTogglerButton)=>dropdownTogglerButton.closest('nav')?.id,getRotated:(dropdownTogglerButton)=>dropdownTogglerButton.querySelector('.toggler-icon svg'),setSubMenuAttributes:(element,attributes)=>{for(const key in attributes)if(Drupal.solo.menuState&&key.startsWith('aria-'))Drupal.solo.menuState.setAriaAttribute(element,key,attributes[key],COMPONENT_NAME);else element.setAttribute(key,attributes[key]);},delay:(duration)=>new Promise((resolve)=>setTimeout(resolve,duration))};const clickedHandler=async(callback)=>{if(!state.isClicked){state.isClicked=true;await callback();await utils.delay(animations.clickDelay);state.isClicked=false;}};const getArrowDirection=(verticalNav)=>{const shouldRotate=state.currentWidth>=state.brNum&&!verticalNav;if(!shouldRotate)return ARROW_ROTATIONS.default;const isRtl=document.documentElement.dir==='rtl';const isExpandLeft=document.querySelector('#primary-menu .expand-left')!==null;const key=`${isRtl?'rtl':'ltr'}-${isExpandLeft?'left':'right'}`;return ARROW_ROTATIONS[key];};const menuVisibility={hideSubMenus:(subMenu)=>{Drupal.solo.menuState.hideSubmenu(subMenu,COMPONENT_NAME);},closeMenuHelper:(rotated,dropdownTogglerButton,subMenu)=>{rotated.style.removeProperty('transform');Drupal.solo.menuState.setExpanded(dropdownTogglerButton,false,COMPONENT_NAME);Drupal.solo.slideUp(subMenu,animations.slideUp,COMPONENT_NAME);},openMenuHelper:(dropdownTogglerButton,subMenu)=>{state.currentWidth=getCurrentWidth();if(subMenu.classList.contains('sub-mega')&&state.currentWidth>=state.brNum)Drupal.solo.slideDown(subMenu,animations.megaMenu,'grid',COMPONENT_NAME);else Drupal.solo.slideDown(subMenu,animations.slideDown,'block',COMPONENT_NAME);Drupal.solo.menuState.setExpanded(dropdownTogglerButton,true,COMPONENT_NAME);}};const iconManagement={revertIcons:(navId)=>{const svgIcons=document.querySelectorAll(`.solo-inner #${navId} .toggler-icon svg`);svgIcons.forEach((svgIcon)=>svgIcon.style.removeProperty('transform'));},resetSubMenus:(siteSubMenus,svgIcons)=>{svgIcons.forEach((el)=>el.style.removeProperty('transform'));siteSubMenus.forEach((el)=>Drupal.solo.slideUp(el,animations.slideUp,COMPONENT_NAME));setTimeout(()=>{siteSubMenus.forEach((el)=>el.style.removeProperty('transform'));},animations.reset);},resetSpecificSubMenus:(specificSubMenus,specificSvgIcons)=>{specificSvgIcons.forEach((el)=>el.style.removeProperty('transform'));specificSubMenus.forEach((el)=>Drupal.solo.slideUp(el,animations.slideUp,COMPONENT_NAME));setTimeout(()=>{specificSubMenus.forEach((el)=>el.style.removeProperty('transform'));},animations.reset);}};const menuOperations={openMenubar:(dropdownTogglerButton,subMenu)=>{const navTagId=utils.getNavTagId(dropdownTogglerButton);const subMenuClasses=Drupal.solo.getSubMenuClasses(navTagId);const rotated=utils.getRotated(dropdownTogglerButton);subMenuClasses?.forEach((subMenuClass)=>{if(subMenuClass!==subMenu){menuVisibility.hideSubMenus(subMenuClass);iconManagement.revertIcons(navTagId);}});rotated.style.transform=ARROW_ROTATIONS.default;menuVisibility.openMenuHelper(dropdownTogglerButton,subMenu);},closeMenubar:(dropdownTogglerButton,subMenu)=>{const navTagId=utils.getNavTagId(dropdownTogglerButton);const subMenuClasses=Drupal.solo.getSubMenuClasses(navTagId);const rotated=utils.getRotated(dropdownTogglerButton);subMenuClasses?.forEach((subMenuClass)=>{menuVisibility.hideSubMenus(subMenuClass);iconManagement.revertIcons(navTagId);});menuVisibility.closeMenuHelper(rotated,dropdownTogglerButton,subMenu);},openSubMenu:(dropdownTogglerButton,subMenu)=>{const togglerSibling=dropdownTogglerButton.closest('.solo-inner .solo-menu ul');const nestedSubMenus=[...togglerSibling.querySelectorAll(':scope > li > ul.sub__menu')];const nestedTogglers=[...togglerSibling.querySelectorAll(':scope > li > button.dropdown-toggler svg')];const rotated=utils.getRotated(dropdownTogglerButton);const verticalNav=subMenu.closest('.navigation-sidebar');nestedSubMenus.forEach((nestedSubMenu)=>{if(nestedSubMenu!==subMenu)menuVisibility.hideSubMenus(nestedSubMenu);});nestedTogglers.forEach((nestedToggler)=>{if(nestedToggler!==dropdownTogglerButton)nestedToggler.style.removeProperty('transform');});rotated.style.transform=getArrowDirection(verticalNav);menuVisibility.openMenuHelper(dropdownTogglerButton,subMenu);},closeSubMenu:(dropdownTogglerButton,subMenu)=>{const rotated=utils.getRotated(dropdownTogglerButton);menuVisibility.closeMenuHelper(rotated,dropdownTogglerButton,subMenu);const parentLi=dropdownTogglerButton.closest('li.has-sub__menu');parentLi?.classList.remove('submenu-flipped-left','submenu-flipped-right');if(subMenu?.dataset.flipped)delete subMenu.dataset.flipped;const nestedSubMenus=subMenu.querySelectorAll('ul.sub__menu');const nestedTogglers=subMenu.querySelectorAll('button.dropdown-toggler');nestedSubMenus.forEach((nested)=>{Drupal.solo.slideUp(nested,animations.slideUp,COMPONENT_NAME);nested.classList.remove('toggled');});nestedTogglers.forEach((toggler)=>{const icon=toggler.querySelector('.toggler-icon svg');icon?.style.removeProperty('transform');Drupal.solo.menuState.setExpanded(toggler,false,COMPONENT_NAME);});}};const eventHandlers={clickHandlers:new WeakMap(),dropdownTogglerButtonIsClicked:(dropdownTogglerButton,subMenu)=>{clickedHandler(()=>{const isMenubar=dropdownTogglerButton.parentElement.classList.contains('nav__menubar-item');let isToggled=false;if(Drupal.solo.menuState){const state=Drupal.solo.menuState.getMenuState(subMenu);isToggled=state.isOpen;}else isToggled=subMenu.classList.contains('toggled');if(isMenubar)isToggled?menuOperations.closeMenubar(dropdownTogglerButton,subMenu):menuOperations.openMenubar(dropdownTogglerButton,subMenu);else isToggled?menuOperations.closeSubMenu(dropdownTogglerButton,subMenu):menuOperations.openSubMenu(dropdownTogglerButton,subMenu);});},addRemoveListener:function(event){const button=event.currentTarget;const subMenu=button.nextElementSibling;eventHandlers.dropdownTogglerButtonIsClicked(button,subMenu);},addEventListenerToButtons:(buttons)=>{buttons.forEach((button)=>{if(!eventHandlers.clickHandlers.has(button)){const handler=eventHandlers.addRemoveListener;eventHandlers.clickHandlers.set(button,handler);button.addEventListener('click',handler);}});},removeEventListenerToButtons:(buttons)=>{buttons.forEach((button)=>{const handler=eventHandlers.clickHandlers.get(button);if(handler){button.removeEventListener('click',handler);eventHandlers.clickHandlers.delete(button);console.log('Removing listeners from',buttons.length,'buttons');}});}};const addHoverFunctionality=()=>{if(getCurrentWidth()<state.brNum)return;const hoverMenus=document.querySelector('.navigation-responsive-hover');if(!hoverMenus)return;const menuItems=document.querySelectorAll('.navigation-responsive-hover li.has-sub__menu');menuItems.forEach((item)=>{if(item.hasAttribute('data-hover-added'))return;const toggler=item.querySelector(':scope > button.dropdown-toggler');const subMenu=item.querySelector(':scope > ul');if(toggler&&subMenu){item.addEventListener('mouseenter',()=>{Drupal.solo.menuState.setExpanded(toggler,true,COMPONENT_NAME);Drupal.solo.menuState.setHidden(subMenu,false,COMPONENT_NAME);});item.addEventListener('mouseleave',()=>{Drupal.solo.menuState.setExpanded(toggler,false,COMPONENT_NAME);Drupal.solo.menuState.setHidden(subMenu,true,COMPONENT_NAME);});}item.setAttribute('data-hover-added','true');});};const closeSubMenusOnClick=()=>{const navMenus=['.solo-inner .solo-menu.navigation-responsive-click .navigation__menubar','#primary-sidebar-menu .navigation__menubar'];document.addEventListener('click',(event)=>{clickedHandler(()=>{const isInsideMenu=navMenus.some((selector)=>event.target.closest(selector));if(!isInsideMenu){const specificNavMenus=document.querySelectorAll(navMenus.join(', '));const specificSubMenus=[];const specificSvgIcons=[];specificNavMenus.forEach((menu)=>{specificSubMenus.push(...menu.querySelectorAll('ul.navigation__menubar ul'));specificSvgIcons.push(...menu.querySelectorAll('.toggler-icon svg'));});iconManagement.resetSpecificSubMenus(specificSubMenus,specificSvgIcons);}});});};const menusHelper=(currentWidth)=>{const buttons={mmClickSmall:document.querySelectorAll(CONFIG.selectors.megaMenuClick.small),mmClickBig:document.querySelectorAll(CONFIG.selectors.megaMenuClick.big),mmHoverSmall:document.querySelectorAll(CONFIG.selectors.megaMenuHover),navigationSidebarHover:document.querySelectorAll(CONFIG.selectors.sidebarHover),navigationResponsiveHover:document.querySelectorAll(CONFIG.selectors.responsiveHover)};const largeScreenActions=[{remove:buttons.mmClickSmall,add:buttons.mmClickBig},{remove:buttons.mmHoverSmall,add:null},{remove:buttons.navigationSidebarHover,add:null},{remove:buttons.navigationResponsiveHover,add:null}];const smallScreenActions=[{remove:buttons.mmClickBig,add:buttons.mmClickSmall},{remove:null,add:buttons.mmHoverSmall},{remove:null,add:buttons.navigationSidebarHover},{remove:null,add:buttons.navigationResponsiveHover}];const siteMenuBars=document.querySelectorAll(CONFIG.selectors.menuBar);siteMenuBars.forEach((siteMenuBar)=>siteMenuBar.removeAttribute('style'));const actions=currentWidth>=state.brNum?largeScreenActions:smallScreenActions;actions.forEach(({remove,add})=>{if(remove)eventHandlers.removeEventListenerToButtons(remove);if(add)eventHandlers.addEventListenerToButtons(add);});};const markActiveMenuItem=()=>{const currentPath=window.location.pathname;const links=document.querySelectorAll('.views-page .navigation__menubar li a');links?.forEach((link)=>{if(link.getAttribute('href')===currentPath){let currentElement=link;while(currentElement&&!currentElement.matches('ul.navigation__menubar')){if(currentElement.tagName==='LI')currentElement.classList.add('is-active');currentElement=currentElement.parentElement;}}});};const exposePublicAPI=()=>{Drupal.solo.clickedHandler=clickedHandler;Drupal.solo.hideSubMenus=menuVisibility.hideSubMenus;Drupal.solo.revertIcons=iconManagement.revertIcons;Drupal.solo.getNavigationMenubarClass=(menuBar)=>document.querySelector(`.solo-inner #${menuBar} .navigation__menubar`);Drupal.solo.getSubMenuClasses=(subMenus)=>document.querySelectorAll(`.solo-inner #${subMenus} .navigation__menubar ul.sub__menu`);Drupal.solo.menuOperations=menuOperations;Drupal.solo.menuVisibility=menuVisibility;Drupal.solo.eventHandlers=eventHandlers;};Drupal.behaviors.menuAction={attach:function(context,settings){state.brNum=Drupal.solo.getBreakpointNumber('mn');state.previousLayout=Drupal.solo.getLayout();state.currentWidth=getCurrentWidth();state.currentLayout=state.previousLayout;const elements={siteMenuBars:utils.querySelectorElements(CONFIG.selectors.menuBar,context),siteSubMenus:utils.querySelectorElements(CONFIG.selectors.subMenus,context),svgIcons:utils.querySelectorElements(CONFIG.selectors.svgIcons,context),navigationDefault:utils.querySelectorElements(CONFIG.selectors.default,context),navigationResponsiveClick:utils.querySelectorElements(CONFIG.selectors.responsiveClick,context),navigationSidebarClick:utils.querySelectorElements(CONFIG.selectors.sidebarClick,context)};elements.siteMenuBars.forEach((siteMenuBar)=>{siteMenuBar.addEventListener('click',()=>{const sideMenu='navigation-sidebar';const shouldRemoveFocus=utils.hasParentWithClass(siteMenuBar,sideMenu)||state.currentWidth<=state.brNum;siteMenuBar.classList[shouldRemoveFocus?'remove':'add']('focus-in');});});markActiveMenuItem();addHoverFunctionality();eventHandlers.addEventListenerToButtons(elements.navigationDefault);eventHandlers.addEventListenerToButtons(elements.navigationResponsiveClick);eventHandlers.addEventListenerToButtons(elements.navigationSidebarClick);menusHelper(state.currentWidth);if(Drupal.solo.menuState)Drupal.solo.menuState.addResizeHandler(COMPONENT_NAME,(screenInfo)=>{state.currentLayout=Drupal.solo.getLayout();state.currentWidth=screenInfo.width;if(state.previousLayout!==state.currentLayout){menusHelper(state.currentWidth);iconManagement.resetSubMenus(elements.siteSubMenus,elements.svgIcons);state.previousLayout=state.currentLayout;}addHoverFunctionality();},250);else{state.resizeHandler=()=>{state.currentLayout=Drupal.solo.getLayout();state.currentWidth=getCurrentWidth();if(state.previousLayout!==state.currentLayout){menusHelper(state.currentWidth);iconManagement.resetSubMenus(elements.siteSubMenus,elements.svgIcons);state.previousLayout=state.currentLayout;}addHoverFunctionality();};window.addEventListener('resize',state.resizeHandler);}closeSubMenusOnClick();exposePublicAPI();},detach:function(context,settings,trigger){if(trigger==='unload'){const buttons=context.querySelectorAll('.dropdown-toggler');eventHandlers.removeEventListenerToButtons(buttons);if(state.resizeHandler){window.removeEventListener('resize',state.resizeHandler);state.resizeHandler=null;}if(Drupal.solo.menuState)Drupal.solo.menuState.unregisterComponent(COMPONENT_NAME);eventHandlers.clickHandlers=new WeakMap();}}};})(Drupal,drupalSettings,once);;
((Drupal,drupalSettings,once)=>{'use strict';const COMPONENT_NAME='mobile';let currentLayout=Drupal.solo.getLayout();let previousLayout=currentLayout;const animations=Drupal.solo.animations;if(Drupal.solo.menuState)Drupal.solo.menuState.registerComponent(COMPONENT_NAME,{name:'Solo Mobile Menu',version:'1.0'});const brNum=Drupal.solo.getBreakpointNumber('mn');const getCurrentWidth=()=>Drupal.solo.menuState.getCurrentWidth();const updateFirstLevelTabindex=(menuElement,tabindexValue)=>{if(!menuElement)return;const isOpen=tabindexValue==='0';Drupal.solo.menuState.updateMenuTabindex(menuElement.querySelector('ul.navigation__responsive'),isOpen,COMPONENT_NAME);};const updateAriaHidden=(menuElement,hiddenValue)=>{if(!menuElement)return;Drupal.solo.menuState.setHidden(menuElement,hiddenValue==='true',COMPONENT_NAME);};const openMobileMenu=(navTagId)=>{const navigationMenubarClass=Drupal.solo.getNavigationMenubarClass(navTagId);const subMenuClasses=Drupal.solo.getSubMenuClasses(navTagId);subMenuClasses?.forEach((subMenu)=>{Drupal.solo.hideSubMenus(subMenu,COMPONENT_NAME);Drupal.solo.revertIcons(navTagId);});if(Drupal.solo.menuState&&navigationMenubarClass)Drupal.solo.menuState.coordinateMenuOperation('open',navigationMenubarClass,COMPONENT_NAME);Drupal.solo.slideDown(navigationMenubarClass,animations.slideDown,'block',COMPONENT_NAME);const menuElement=document.getElementById(navTagId);if(menuElement){updateAriaHidden(menuElement,'false');updateFirstLevelTabindex(menuElement,'0');}};const closeMobileMenu=(navTagId)=>{const navigationMenubarClass=Drupal.solo.getNavigationMenubarClass(navTagId);const subMenuClasses=Drupal.solo.getSubMenuClasses(navTagId);subMenuClasses?.forEach((subMenu)=>{Drupal.solo.hideSubMenus(subMenu,COMPONENT_NAME);Drupal.solo.revertIcons(navTagId);});if(Drupal.solo.menuState&&navigationMenubarClass)Drupal.solo.menuState.coordinateMenuOperation('close',navigationMenubarClass,COMPONENT_NAME);Drupal.solo.slideUp(navigationMenubarClass,animations.slideDown,COMPONENT_NAME);const menuElement=document.getElementById(navTagId);if(menuElement){updateAriaHidden(menuElement,'true');updateFirstLevelTabindex(menuElement,'-1');}};const getMobileNavType=(hamburgerIcon)=>{if(!hamburgerIcon)return [null,null,null];const hamburgerIconChild=hamburgerIcon;const navElement=hamburgerIcon.closest('nav');if(!navElement){console.warn('Navigation element not found for hamburger icon');return [hamburgerIconChild,null,null];}const navTagId=navElement.id;const menuElement=document.getElementById(navTagId);return [hamburgerIconChild,navTagId,menuElement];};const hamburgerIconIsClicked=(hamburgerIcon)=>{const [hamburgerIconChild,navTagId]=getMobileNavType(hamburgerIcon);if(!navTagId)return;const navigationMenubar=document.querySelector(`#${navTagId} .navigation__menubar`);if(!navigationMenubar)return;let isOpen=false;if(Drupal.solo.menuState){const state=Drupal.solo.menuState.getMenuState(navigationMenubar);isOpen=state.isOpen;}else isOpen=navigationMenubar.classList.contains('toggled');if(!isOpen){if(hamburgerIconChild)Drupal.solo.menuState.setExpanded(hamburgerIconChild,true,COMPONENT_NAME);hamburgerIcon.classList.add('toggled');openMobileMenu(navTagId);}else{if(hamburgerIconChild)Drupal.solo.menuState.setExpanded(hamburgerIconChild,false,COMPONENT_NAME);hamburgerIcon.classList.remove('toggled');closeMobileMenu(navTagId);}};const addAriaControlToButton=(hamburgerIcon)=>{const [hamburgerIconChild,navTagId]=getMobileNavType(hamburgerIcon);if(!navTagId||!hamburgerIconChild)return;const ariaControl=document.querySelector(`#${navTagId} .navigation__responsive`)?.getAttribute('id');if(ariaControl){const currentWidth=getCurrentWidth();if(currentWidth<=brNum)Drupal.solo.menuState.setAriaAttribute(hamburgerIconChild,'aria-controls',ariaControl,COMPONENT_NAME);else hamburgerIconChild.removeAttribute('aria-controls');}};const updateHamburgerTabindex=(hamburgerIcons)=>{const currentWidth=getCurrentWidth();hamburgerIcons.forEach((button)=>{Drupal.solo.menuState.setTabindex(button,currentWidth<=brNum?'0':'-1',COMPONENT_NAME);});};const updateTabindexForLargeScreens=()=>{const currentWidth=getCurrentWidth();if(currentWidth>brNum){const menuElement=document.querySelector('.navigation__responsive');if(menuElement){updateFirstLevelTabindex(menuElement,'0');updateAriaHidden(menuElement,'false');}}};const closeOnResize=(hamburgerIcon)=>{const [hamburgerIconChild,navTagId]=getMobileNavType(hamburgerIcon);if(!navTagId)return;if(hamburgerIconChild)Drupal.solo.menuState.setExpanded(hamburgerIconChild,false,COMPONENT_NAME);hamburgerIcon.classList.remove('toggled');closeMobileMenu(navTagId);};const resetMenusOnResize=(hamburgerIcons)=>{hamburgerIcons?.forEach((hamburgerIcon)=>{closeOnResize(hamburgerIcon);});};function processHamburgerIcons(hamburgerIcons){hamburgerIcons.forEach((hamburgerIcon)=>{addAriaControlToButton(hamburgerIcon);});}function updateMenuStates(hamburgerIcons){processHamburgerIcons(hamburgerIcons);updateHamburgerTabindex(hamburgerIcons);updateTabindexForLargeScreens();}function createResizeHandler(hamburgerIcons){return (screenInfo)=>{currentLayout=Drupal.solo.getLayout();const isSmallScreen=screenInfo?screenInfo.isSmallScreen:(getCurrentWidth()<=brNum);if(isSmallScreen&&previousLayout!==currentLayout){resetMenusOnResize(hamburgerIcons);previousLayout=currentLayout;}updateMenuStates(hamburgerIcons);};}const clickHandlers=new WeakMap();function initHamburgerMenu(hamburgerIcons){hamburgerIcons.forEach((hamburgerIcon)=>{const handler=()=>{Drupal.solo.clickedHandler(()=>{hamburgerIconIsClicked(hamburgerIcon);});};clickHandlers.set(hamburgerIcon,handler);hamburgerIcon.addEventListener('click',handler);});updateMenuStates(hamburgerIcons);if(Drupal.solo.menuState)Drupal.solo.menuState.addResizeHandler(COMPONENT_NAME,createResizeHandler(hamburgerIcons),250);else{let resizeTimer;window.addEventListener('resize',()=>{clearTimeout(resizeTimer);resizeTimer=setTimeout(()=>{createResizeHandler(hamburgerIcons)();},250);});}}Drupal.behaviors.mobileMenu={attach:function(context){const hamburgerIcons=once('soloHamburgerInit','.mobile-nav button',context);if(hamburgerIcons.length>0)initHamburgerMenu(hamburgerIcons);else window.addEventListener('load',()=>{const fallbackIcons=once('soloHamburgerLateInit','.mobile-nav button');if(fallbackIcons.length>0)initHamburgerMenu(fallbackIcons);});},detach:function(context,settings,trigger){if(trigger==='unload'){const hamburgerIcons=once.filter('soloHamburgerInit','.mobile-nav button',context).concat(once.filter('soloHamburgerLateInit','.mobile-nav button'));hamburgerIcons.forEach((icon)=>{const handler=clickHandlers.get(icon);if(handler){icon.removeEventListener('click',handler);clickHandlers.delete(icon);}});if(Drupal.solo.menuState)Drupal.solo.menuState.unregisterComponent(COMPONENT_NAME);}}};})(Drupal,drupalSettings,once);;
((Drupal,drupalSettings,once)=>{'use strict';const COMPONENT_NAME='sidebar';Drupal.solo=Drupal.solo||{};if(Drupal.solo.menuState)Drupal.solo.menuState.registerComponent(COMPONENT_NAME,{name:'Solo Sidebar Menu',version:'1.0'});const initFocusVisible=()=>{try{document.querySelector(':focus-visible');}catch(e){let hadKeyboardEvent=true;const keyboardEvents=['keydown','keyup'];const pointerEvents=['mousedown','mouseup','touchstart','touchend'];keyboardEvents.forEach((event)=>{document.addEventListener(event,()=>{hadKeyboardEvent=true;},true);});pointerEvents.forEach((event)=>{document.addEventListener(event,()=>{hadKeyboardEvent=false;},true);});document.addEventListener('focus',(e)=>{if(hadKeyboardEvent||e.target.matches(':focus-visible'))e.target.classList.add('focus-visible');},true);document.addEventListener('blur',(e)=>{e.target.classList.remove('focus-visible');},true);}};const eventManager={listeners:new Map(),on(element,eventType,namespace,handler){const key=`${eventType}.${namespace}`;if(!this.listeners.has(element))this.listeners.set(element,new Map());const elementListeners=this.listeners.get(element);if(elementListeners.has(key))this.off(element,eventType,namespace);elementListeners.set(key,handler);element.addEventListener(eventType,handler);},off(element,eventType,namespace){const key=`${eventType}.${namespace}`;const elementListeners=this.listeners.get(element);if(elementListeners&&elementListeners.has(key)){const handler=elementListeners.get(key);element.removeEventListener(eventType,handler);elementListeners.delete(key);if(elementListeners.size===0)this.listeners.delete(element);}},offAll(element,namespace=null){const elementListeners=this.listeners.get(element);if(!elementListeners)return;elementListeners.forEach((handler,key)=>{if(!namespace||key.endsWith(`.${namespace}`)){const [eventType]=key.split('.');element.removeEventListener(eventType,handler);elementListeners.delete(key);}});if(elementListeners.size===0)this.listeners.delete(element);}};initFocusVisible();const verticalNav=document.getElementById('primary-sidebar-menu');if(verticalNav){const openDuration=Drupal.solo.animations.slideDown||400;const closeDuration=Drupal.solo.animations.slideUp||350;const closeBtns=document.querySelectorAll('.sidebar-button-close>button');const openBtns=document.querySelectorAll('.sidebar-button-open>button');const firstLevelSelector='#primary-sidebar-menu .nav__menubar-item > a, #primary-sidebar-menu .nav__menubar-item > button';let cachedFocusableElements=null;let lastFocusedElement=null;const updateFocusableElementsCache=()=>{cachedFocusableElements=Array.from(verticalNav.querySelectorAll(firstLevelSelector)).filter((el)=>el.getAttribute('tabindex')==='0');closeBtns.forEach((button)=>{if(button.getAttribute('tabindex')==='0')cachedFocusableElements.push(button);});};const sideMenubarCloseOpen=(buttons,callback,context)=>{buttons.forEach((button)=>{if(button&&context.contains(button))once('solo-sidebar-button',button).forEach(()=>{eventManager.on(button,'click','solo.sidebar',callback);});});};const setAriaExpanded=(el,value)=>{Drupal.solo.menuState.setExpanded(el,value==='true',COMPONENT_NAME);};const setAriaHidden=(el,value)=>{Drupal.solo.menuState.setHidden(el,value==='true',COMPONENT_NAME);};const focusFirstInteractiveElement=()=>{const firstInteractiveElement=verticalNav.querySelector(firstLevelSelector);if(firstInteractiveElement)firstInteractiveElement.focus();};const updateTabindex=(isOpen)=>{Drupal.solo.menuState.updateMenuTabindex(verticalNav,isOpen,COMPONENT_NAME);closeBtns.forEach((button)=>{Drupal.solo.menuState.setTabindex(button,isOpen?'0':'-1',COMPONENT_NAME);});cachedFocusableElements=null;};const trapFocus=(event)=>{const isTab=event.key==='Tab'||event.code==='Tab';const isEscape=event.key==='Escape'||event.code==='Escape'||event.keyCode===27;if(!isTab&&!isEscape)return;if(isEscape){sideMenubarToggleNav(false);if(lastFocusedElement)lastFocusedElement.focus();return;}if(isTab){if(!cachedFocusableElements)updateFocusableElementsCache();const currentIndex=cachedFocusableElements.indexOf(document.activeElement);let nextIndex;if(event.shiftKey)nextIndex=currentIndex>0?currentIndex-1:cachedFocusableElements.length-1;else nextIndex=currentIndex<cachedFocusableElements.length-1?currentIndex+1:0;event.preventDefault();if(cachedFocusableElements[nextIndex])cachedFocusableElements[nextIndex].focus();}};const outsideClickListener=(event)=>{if(verticalNav&&!verticalNav.contains(event.target)&&!event.target.closest('.sidebar-button-open'))sideMenubarToggleNav(false);};const sideMenubarToggleNav=(isOpen)=>{const duration=isOpen?Drupal.solo.animations.slideDown:Drupal.solo.animations.slideUp;verticalNav.style.setProperty('--solo-sidebar-speed',`${duration}ms`);setAriaExpanded(closeBtns,isOpen);setAriaExpanded(openBtns,isOpen);setAriaHidden(verticalNav,!isOpen);updateTabindex(isOpen);if(isOpen){lastFocusedElement=document.activeElement;if(Drupal.solo.menuState)Drupal.solo.menuState.coordinateMenuOperation('open',verticalNav,COMPONENT_NAME);else verticalNav.classList.add('toggled');focusFirstInteractiveElement();eventManager.on(document,'keydown','solo.sidebar.focus',trapFocus);eventManager.on(document,'click','solo.sidebar.outside',outsideClickListener);}else{if(Drupal.solo.menuState)Drupal.solo.menuState.coordinateMenuOperation('close',verticalNav,COMPONENT_NAME);else verticalNav.classList.remove('toggled');const subMenus=verticalNav.querySelectorAll('.navigation__sidebar li ul.sub__menu');subMenus?.forEach((subMenu)=>Drupal.solo.hideSubMenus(subMenu,COMPONENT_NAME));eventManager.off(document,'keydown','solo.sidebar.focus');eventManager.off(document,'click','solo.sidebar.outside');cachedFocusableElements=null;}};Drupal.solo.sideMenubarToggleNav=sideMenubarToggleNav;function addOutsideClickListener(enable){if(enable===true&&verticalNav.classList.contains('toggled'))eventManager.on(document,'click','solo.sidebar.outside',outsideClickListener);else eventManager.off(document,'click','solo.sidebar.outside');}Drupal.solo.addOutsideClickListener=addOutsideClickListener;Drupal.behaviors.soloPrimarySideMenu={attach:function(context,settings){once('solo-sidebar-init','#primary-sidebar-menu',context).forEach(()=>{sideMenubarCloseOpen(closeBtns,()=>sideMenubarToggleNav(false),context);sideMenubarCloseOpen(openBtns,()=>sideMenubarToggleNav(true),context);if(verticalNav.classList.contains('toggled')){updateTabindex(true);eventManager.on(document,'keydown','solo.sidebar.focus',trapFocus);eventManager.on(document,'click','solo.sidebar.outside',outsideClickListener);}else updateTabindex(false);});},detach:function(context,settings,trigger){if(trigger==='unload'){eventManager.off(document,'click','solo.sidebar.outside');eventManager.off(document,'keydown','solo.sidebar.focus');const buttons=context.querySelectorAll('.sidebar-button-close>button, .sidebar-button-open>button');buttons.forEach((button)=>{eventManager.offAll(button,'solo.sidebar');});cachedFocusableElements=null;lastFocusedElement=null;if(Drupal.solo.menuState)Drupal.solo.menuState.unregisterComponent(COMPONENT_NAME);}}};}})(Drupal,drupalSettings,once);;
((Drupal,drupalSettings,once)=>{'use strict';const COMPONENT_NAME='repositions';const SUBMENU_BUFFER=30;const RESIZE_DEBOUNCE_DELAY=150;let resizeHandler=null;if(Drupal.solo.menuState)Drupal.solo.menuState.registerComponent(COMPONENT_NAME,{name:'Solo Menu Repositions',version:'1.0'});Drupal.behaviors.soloMenuFix={attach:function(context){const breakpoint=Drupal.solo.getBreakpointNumber('mn');let windowWidth=window.innerWidth;if(Drupal.solo.menuState)windowWidth=Drupal.solo.menuState.screenSize.width;if(windowWidth<breakpoint)return;const getWindowWidth=()=>Drupal.solo.menuState.getCurrentWidth();const getLiWidth=(li)=>li.offsetWidth;const getLiPosition=(li)=>li.getBoundingClientRect();const getSubmenuWidth=(submenu)=>submenu.offsetWidth;const getSubmenuPosition=(submenu)=>submenu.getBoundingClientRect();const getSpaceLeft=(liRect)=>liRect.left;const getSpaceRight=(liRect,windowWidth)=>windowWidth-liRect.right;const updateAriaAttributes=(li,submenu,isOpen=false)=>{const button=li.querySelector(':scope > button.dropdown-toggler');if(button){Drupal.solo.menuState.setExpanded(button,isOpen,COMPONENT_NAME);if(!button.hasAttribute('aria-haspopup'))Drupal.solo.menuState.setAriaAttribute(button,'aria-haspopup','true',COMPONENT_NAME);}if(!submenu.hasAttribute('role'))submenu.setAttribute('role','menu');Drupal.solo.menuState.setHidden(submenu,!isOpen,COMPONENT_NAME);const menuItems=submenu.querySelectorAll(':scope > li');menuItems.forEach((item)=>{if(!item.hasAttribute('role'))item.setAttribute('role','none');});const interactiveItems=submenu.querySelectorAll(':scope > li > a, :scope > li > button');interactiveItems.forEach((item)=>{if(!item.hasAttribute('role'))item.setAttribute('role','menuitem');});};const adjustSecondLevelSubmenu=(li)=>{const windowWidth=getWindowWidth();if(windowWidth<breakpoint)return;const submenu=li.querySelector(':scope > .sub__menu');if(!submenu)return;submenu.style.visibility='hidden';const liRect=getLiPosition(li);const submenuWidth=getSubmenuWidth(submenu);const spaceLeft=getSpaceLeft(liRect);const spaceRight=getSpaceRight(liRect,windowWidth);if(submenuWidth+SUBMENU_BUFFER>spaceRight){submenu.style.left='auto';submenu.style.right='0';submenu.setAttribute('data-position','left');}else if(submenuWidth+SUBMENU_BUFFER>spaceLeft){submenu.style.right='auto';submenu.style.left='0';submenu.setAttribute('data-position','right');}else{submenu.style.left='';submenu.style.right='';submenu.removeAttribute('data-position');}submenu.style.visibility='visible';updateAriaAttributes(li,submenu,true);};const adjustThirdLevelSubmenu=(li)=>{const windowWidth=getWindowWidth();if(windowWidth<breakpoint)return;const submenu=li.querySelector(':scope > .sub__menu');if(!submenu)return;const parentLi=li.closest('li.has-sub__menu');if(!parentLi)return;submenu.style.visibility='hidden';const parentRect=getLiPosition(parentLi);const submenuWidth=getSubmenuWidth(submenu);const spaceLeft=getSpaceLeft(parentRect);const spaceRight=getSpaceRight(parentRect,windowWidth);const fourthLevelLi=submenu.querySelector('li.has-sub__menu');let fourthLevelWidth=0;if(fourthLevelLi){const fourthSubmenu=fourthLevelLi.querySelector(':scope > .sub__menu');if(fourthSubmenu){const originalDisplay=fourthSubmenu.style.display;fourthSubmenu.style.visibility='hidden';fourthSubmenu.style.display='block';fourthLevelWidth=getSubmenuWidth(fourthSubmenu);fourthSubmenu.style.display=originalDisplay;fourthSubmenu.style.visibility='';}}const totalNeededWidth=submenuWidth+fourthLevelWidth+SUBMENU_BUFFER;if(totalNeededWidth>spaceRight&&spaceLeft>spaceRight){submenu.style.left='auto';submenu.style.right='100%';submenu.dataset.flipped='left';li.classList.add('submenu-flipped-left');li.classList.remove('submenu-flipped-right');submenu.setAttribute('data-position','left');}else if(submenuWidth+SUBMENU_BUFFER>spaceLeft){submenu.style.right='auto';submenu.style.left='100%';submenu.dataset.flipped='right';li.classList.add('submenu-flipped-right');li.classList.remove('submenu-flipped-left');submenu.setAttribute('data-position','right');}else{submenu.style.left='';submenu.style.right='';submenu.removeAttribute('data-position');}submenu.style.visibility='visible';updateAriaAttributes(li,submenu,true);};const adjustFourthLevelSubmenu=(li)=>{const windowWidth=getWindowWidth();if(windowWidth<breakpoint)return;const submenu=li.querySelector(':scope > .sub__menu');if(!submenu)return;const parentLi=li.closest('ul.sub__menu')?.closest('li.has-sub__menu');if(!parentLi)return;const parentSubmenu=parentLi.querySelector(':scope > .sub__menu');if(!parentSubmenu)return;submenu.style.visibility='hidden';const isParentFlippedLeft=parentSubmenu.dataset.flipped==='left';if(isParentFlippedLeft){submenu.style.left='auto';submenu.style.right='100%';submenu.setAttribute('data-position','left');}else{submenu.style.right='auto';submenu.style.left='100%';submenu.setAttribute('data-position','right');}submenu.style.visibility='visible';updateAriaAttributes(li,submenu,true);};const createEventHandler=(adjustFunction)=>{return function(event){adjustFunction(this);if(event.type==='keydown'){const submenu=this.querySelector(':scope > .sub__menu');const button=this.querySelector(':scope > button.dropdown-toggler');if(submenu&&button&&(event.key==='Enter'||event.key===' ')){event.preventDefault();const isExpanded=button.getAttribute('aria-expanded')==='true';updateAriaAttributes(this,submenu,!isExpanded);}}};};const applySubmenuFix=(menuSelector,adjustFunction)=>{const elements=once('soloMenuFix',document.querySelectorAll(menuSelector,context));elements.forEach((li)=>{const submenu=li.querySelector(':scope > .sub__menu');const button=li.querySelector(':scope > button.dropdown-toggler');if(submenu&&button){Drupal.solo.menuState.setAriaAttribute(button,'aria-haspopup','true',COMPONENT_NAME);Drupal.solo.menuState.setExpanded(button,false,COMPONENT_NAME);Drupal.solo.menuState.setHidden(submenu,true,COMPONENT_NAME);if(!li.hasAttribute('role'))li.setAttribute('role','none');}const handler=createEventHandler(adjustFunction);['mouseenter','click','keydown'].forEach((eventType)=>{li.addEventListener(eventType,handler);});li.dataset.soloMenuHandler='true';});};const menuConfigs=[{selector:'.primary-menu .navigation__primary > li.has-sub__menu',adjustFunction:adjustSecondLevelSubmenu},{selector:'.primary-menu .navigation__primary > li.has-sub__menu > ul > li.has-sub__menu',adjustFunction:adjustThirdLevelSubmenu},{selector:'.primary-menu .navigation__primary > li.has-sub__menu > ul > li.has-sub__menu > ul > li.has-sub__menu',adjustFunction:adjustFourthLevelSubmenu}];menuConfigs.forEach((config)=>{applySubmenuFix(config.selector,config.adjustFunction);});if(Drupal.solo.menuState)Drupal.solo.menuState.addResizeHandler(COMPONENT_NAME,(screenInfo)=>{if(screenInfo.width>=breakpoint)menuConfigs.forEach((config)=>{applySubmenuFix(config.selector,config.adjustFunction);});},RESIZE_DEBOUNCE_DELAY);else{let resizeTimeout;resizeHandler=()=>{clearTimeout(resizeTimeout);resizeTimeout=setTimeout(()=>{if(window.innerWidth>=breakpoint)menuConfigs.forEach((config)=>{applySubmenuFix(config.selector,config.adjustFunction);});},RESIZE_DEBOUNCE_DELAY);};window.addEventListener('resize',resizeHandler);}},detach:function(context,settings,trigger){if(trigger==='unload'){if(Drupal.solo.menuState)Drupal.solo.menuState.unregisterComponent(COMPONENT_NAME);if(resizeHandler){window.removeEventListener('resize',resizeHandler);resizeHandler=null;}const menuItems=document.querySelectorAll('[data-solo-menu-handler="true"]');menuItems.forEach((li)=>{const newLi=li.cloneNode(true);li.parentNode.replaceChild(newLi,li);delete newLi.dataset.soloMenuHandler;});}}};})(Drupal,drupalSettings,once);;
((Drupal,drupalSettings,once)=>{'use strict';const COMPONENT_NAME='scripts';if(Drupal.solo.menuState)Drupal.solo.menuState.registerComponent(COMPONENT_NAME,{name:'Solo Menu Scripts',version:'1.0'});Drupal.behaviors.globalMenu={attach:function(context,settings){const menus=once('solo-menu-init','#primary-menu',context);menus.forEach((mainNavigation)=>{if(!mainNavigation.querySelector('.solo-inner .navigation__menubar'))return;let origOffsetY=mainNavigation.offsetTop;let scrollTicking=false;const handleScroll=()=>{if(!scrollTicking){window.requestAnimationFrame(()=>{mainNavigation.classList.toggle('solo-sticky',window.scrollY>origOffsetY);scrollTicking=false;});scrollTicking=true;}};if(Drupal.solo.menuState)Drupal.solo.menuState.addResizeHandler(COMPONENT_NAME,(screenInfo)=>{origOffsetY=mainNavigation.offsetTop;},250);else{let resizeTimeout;const handleResize=()=>{clearTimeout(resizeTimeout);resizeTimeout=setTimeout(()=>{origOffsetY=mainNavigation.offsetTop;},250);};mainNavigation._soloResizeHandler=handleResize;window.addEventListener('resize',handleResize);}mainNavigation._soloHandlers={scroll:handleScroll};window.addEventListener('scroll',handleScroll,{passive:true});});const submenus=once('solo-submenu-bg','.solo-inner nav .navigation__menubar ul',context);submenus.forEach((submenu)=>{const closestParent=submenu.closest('.page-wrapper > div, .page-wrapper > header');if(closestParent){const bgColor=window.getComputedStyle(closestParent).backgroundColor;submenu.style.backgroundColor=bgColor||'transparent';}});},detach:function(context,settings,trigger){if(trigger==='unload'){const menus=once.find('solo-menu-init',context);menus.forEach((mainNavigation)=>{if(mainNavigation._soloHandlers){window.removeEventListener('scroll',mainNavigation._soloHandlers.scroll);delete mainNavigation._soloHandlers;}if(mainNavigation._soloResizeHandler&&!Drupal.solo.menuState){window.removeEventListener('resize',mainNavigation._soloResizeHandler);delete mainNavigation._soloResizeHandler;}});if(Drupal.solo.menuState)Drupal.solo.menuState.unregisterComponent(COMPONENT_NAME);}}};})(Drupal,drupalSettings,once);;
((Drupal,drupalSettings,once)=>{'use strict';Drupal.behaviors.soloSubTheme={attach:(context,settings)=>{}};})(Drupal,drupalSettings,once);;
